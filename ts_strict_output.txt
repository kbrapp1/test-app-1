
> my-v0-project@0.1.0 typecheck:strict D:\Projects\test-app-1
> tsc --noEmit --project tsconfig.strict.json

components/ui/input.tsx(4,20): error TS2307: Cannot find module './input.module.css' or its corresponding type declarations.
components/ui/use-toast.ts(190,45): error TS2345: Argument of type '{ type: "DISMISS_TOAST"; toastId: string | undefined; }' is not assignable to parameter of type 'Action'.
  Type '{ type: "DISMISS_TOAST"; toastId: string | undefined; }' is not assignable to type '{ type: "DISMISS_TOAST"; toastId?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'toastId' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/auth/application/mappers/UserMapper.ts(29,5): error TS2375: Type '{ id: string; email: string; firstName: string | undefined; lastName: string | undefined; avatarUrl: string | undefined; status: UserStatus; emailVerified: boolean; activeOrganizationId: string; role: UserRole; createdAt: string; updatedAt: string; }' is not assignable to type 'UserDTO' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'firstName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/application/mappers/UserMapper.ts(49,5): error TS2375: Type '{ id: string; email: string; firstName: string | undefined; lastName: string | undefined; avatarUrl: string | undefined; status: UserStatus; emailVerified: boolean; activeOrganizationId: string; role: UserRole; createdAt: string; updatedAt: string; }' is not assignable to type 'UserDTO' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'firstName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/application/use-cases/GrantSuperAdminUseCase.ts(67,5): error TS2375: Type '{ success: true; targetUserId: string; grantedByUserId: string; grantedAt: Date; reason: string | undefined; }' is not assignable to type 'GrantSuperAdminResponse' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'reason' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/application/use-cases/RegisterUserUseCase.ts(68,66): error TS2379: Argument of type '{ firstName: string | undefined; lastName: string | undefined; timezone: string | undefined; language: string | undefined; }' is not assignable to parameter of type 'UserProfile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'firstName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/application/use-cases/RevokeSuperAdminUseCase.ts(67,5): error TS2375: Type '{ success: true; targetUserId: string; revokedByUserId: string; revokedAt: Date; reason: string | undefined; }' is not assignable to type 'RevokeSuperAdminResponse' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'reason' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/domain/aggregates/UserAggregate.ts(78,5): error TS2412: Type 'Date | undefined' is not assignable to type 'Date' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Date'.
lib/auth/domain/aggregates/UserAggregate.ts(300,50): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/auth/domain/services/PermissionService.ts(98,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/auth/domain/services/TokenService.ts(88,7): error TS2375: Type '{ isValid: true; userId: UserId; organizationId: OrganizationId | undefined; expiresAt: Date | undefined; }' is not assignable to type 'TokenValidationResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'organizationId' are incompatible.
    Type 'OrganizationId | undefined' is not assignable to type 'OrganizationId'.
      Type 'undefined' is not assignable to type 'OrganizationId'.
lib/auth/domain/value-objects/Email.ts(30,5): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/auth/domain/value-objects/Email.ts(34,5): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/auth/domain/value-objects/Email.ts(102,9): error TS18048: 'localPart' is possibly 'undefined'.
lib/auth/domain/value-objects/Email.ts(102,38): error TS18048: 'localPart' is possibly 'undefined'.
lib/auth/domain/value-objects/Permission.ts(284,17): error TS2538: Type 'undefined' cannot be used as an index type.
lib/auth/domain/value-objects/Permission.ts(285,14): error TS2538: Type 'undefined' cannot be used as an index type.
lib/auth/domain/value-objects/Permission.ts(287,12): error TS2538: Type 'undefined' cannot be used as an index type.
lib/auth/infrastructure/adapters/DatabaseUserAdapter.ts(59,11): error TS2375: Type '{ firstName: string | undefined; lastName: string | undefined; avatarUrl: string | undefined; timezone: string | undefined; language: string | undefined; }' is not assignable to type 'UserProfile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'firstName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/infrastructure/adapters/DatabaseUserAdapter.ts(93,5): error TS2375: Type '{ id: string; email: string; full_name: string | undefined; avatar_url: string | undefined; timezone: string | undefined; language: string | undefined; is_active: boolean; email_verified: boolean; active_organization_id: string; organization_memberships: string[]; updated_at: string; }' is not assignable to type 'Partial<DatabaseUserRow>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'full_name' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/infrastructure/middleware/AuthMiddleware.ts(58,13): error TS6138: Property 'compositionRoot' is declared but its value is never read.
lib/auth/infrastructure/persistence/supabase/UserRepository.ts(183,7): error TS2379: Argument of type '{ firstName: string | undefined; lastName: string | undefined; avatarUrl: string | undefined; }' is not assignable to parameter of type 'UserProfile' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'firstName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/infrastructure/wrappers/ActionWrapper.ts(42,13): error TS6138: Property 'compositionRoot' is declared but its value is never read.
lib/auth/presentation/hooks/use-organization-selector.ts(35,9): error TS6133: '_router' is declared but its value is never read.
lib/auth/presentation/hooks/useAddMemberForm.ts(40,44): error TS2532: Object is possibly 'undefined'.
lib/auth/presentation/hooks/useAddMemberForm.ts(48,44): error TS2532: Object is possibly 'undefined'.
lib/auth/presentation/hooks/useAddMemberForm.ts(80,55): error TS2379: Argument of type '{ email: string; name: string | undefined; organizationId: string; roleId: string; }' is not assignable to parameter of type 'InviteMemberParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'name' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/auth/presentation/hooks/useOrgMembers.ts(181,53): error TS18048: 'displayName' is possibly 'undefined'.
lib/auth/super-admin/hooks.ts(49,14): error TS6133: 'event' is declared but its value is never read.
lib/auth/super-admin/queries.ts(170,3): error TS2375: Type '{ profile: Profile | null; bypassOrganizationFilter: boolean | undefined; matchColumn?: string; matchValue?: string | null; isNull?: string; userId?: string; organizationId?: string; orderBy?: string; ascending?: boolean; limit?: number; }' is not assignable to type 'SuperAdminQueryOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'bypassOrganizationFilter' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(105,14): error TS6133: '_analysis' is declared but its value is never read.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(174,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(175,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(176,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(177,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(178,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(179,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(202,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/api-driven-compression.test.ts(203,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(108,14): error TS18048: 'savedConfig' is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(219,38): error TS2322: Type 'LeadQualificationQuestion | undefined' is not assignable to type 'LeadQualificationQuestion'.
  Type 'undefined' is not assignable to type 'LeadQualificationQuestion'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(296,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(297,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(687,38): error TS2322: Type 'LeadQualificationQuestion | undefined' is not assignable to type 'LeadQualificationQuestion'.
  Type 'undefined' is not assignable to type 'LeadQualificationQuestion'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(765,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(766,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ConfigureChatbotUseCase.test.ts(767,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/InitializeChatSessionUseCase.test.ts(82,14): error TS18048: 'savedSession' is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/InitializeChatSessionUseCase.test.ts(191,13): error TS6133: '_result' is declared but its value is never read.
lib/chatbot-widget/__tests__/application/use-cases/InitializeChatSessionUseCase.test.ts(469,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/SanitizeUserContentUseCase.test.ts(17,1): error TS6133: 'SanitizedContent' is declared but its value is never read.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(379,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(380,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(383,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(384,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(387,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(388,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(403,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(404,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(407,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(408,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(409,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(595,34): error TS2345: Argument of type 'ContentType | undefined' is not assignable to parameter of type 'ContentType'.
  Type 'undefined' is not assignable to type 'ContentType'.
lib/chatbot-widget/__tests__/application/use-cases/ValidateContentUseCase.test.ts(603,43): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/complete-entity-storage.test.ts(242,13): error TS6133: 'result' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/ChatbotConfig.test.ts(7,34): error TS6133: 'beforeEach' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/ChatbotConfig.test.ts(305,13): error TS6133: 'factory' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/ChatbotConfig.test.ts(335,13): error TS6133: 'factory' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/ChatMessage.test.ts(13,30): error TS6133: 'TestAssertions' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/ChatMessage.test.ts(110,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/domain/entities/ChatMessage.test.ts(111,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/domain/entities/ChatMessage.test.ts(166,13): error TS6133: 'factory' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/ChatSession.test.ts(9,30): error TS6133: 'TestAssertions' is declared but its value is never read.
lib/chatbot-widget/__tests__/domain/entities/Lead.test.ts(357,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/domain/entities/Lead.test.ts(358,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/domain/entities/Lead.test.ts(359,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/domain/entities/Lead.test.ts(360,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(12,1): error TS6133: 'ChatbotTestDataFactory' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(158,41): error TS6133: 'messages' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(193,13): error TS6133: 'testMessages' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(198,13): error TS6133: 'leadCaptureFunction' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(280,24): error TS18048: 'choice' is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(386,51): error TS2345: Argument of type 'number | undefined' is not assignable to parameter of type 'number | bigint'.
  Type 'undefined' is not assignable to type 'number | bigint'.
lib/chatbot-widget/__tests__/integration/ai-services/OpenAIProvider.integration.test.ts(387,48): error TS2345: Argument of type 'number | undefined' is not assignable to parameter of type 'number | bigint'.
  Type 'undefined' is not assignable to type 'number | bigint'.
lib/chatbot-widget/__tests__/integration/repositories/ChatSessionRepository.integration.test.ts(8,32): error TS6133: 'beforeEach' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/repositories/ChatSessionRepository.integration.test.ts(10,1): error TS6133: 'ChatSession' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/repositories/ChatSessionRepository.integration.test.ts(344,13): error TS6133: 'org1Id' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/repositories/ChatSessionRepository.integration.test.ts(345,13): error TS6133: 'org2Id' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/repositories/LeadRepository.integration.test.ts(23,32): error TS6133: 'beforeEach' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/repositories/LeadRepository.integration.test.ts(245,55): error TS2379: Argument of type '{ email: string; name: string; phone: string | undefined; company: string; }' is not assignable to parameter of type 'Partial<ContactInfoProps>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'phone' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/__tests__/integration/repositories/LeadRepository.integration.test.ts(466,9): error TS2379: Argument of type 'ContactInfo' is not assignable to parameter of type 'ContactInfoProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'email' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/__tests__/integration/repositories/LeadRepository.integration.test.ts(498,13): error TS6133: 'savedEnriched' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/repositories/LeadRepository.integration.test.ts(520,13): error TS6133: 'savedFinal' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(8,32): error TS6133: 'beforeEach' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(10,1): error TS6133: 'ProcessChatMessageUseCase' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(14,1): error TS6133: 'createMockEnvironment' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(22,7): error TS6133: 'supabaseClient' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(344,20): error TS18048: 'step' is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(345,19): error TS18048: 'step' is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(353,20): error TS18048: 'step' is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(363,38): error TS18048: 'step' is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(364,44): error TS18048: 'step' is possibly 'undefined'.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(480,33): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/__tests__/integration/workflows/ChatbotWorkflow.integration.test.ts(514,13): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/phase1-validation.test.ts(168,16): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/__tests__/test-utils/ChatbotTestDataFactory.ts(101,40): error TS2379: Argument of type '{ id: string; chatbotConfigId: string; visitorId: string; sessionToken: string; status: "active"; contextData: { pageViews: { url: string; title: string; timestamp: Date; timeOnPage: number; }[]; ... 6 more ...; leadScore: number; }; ... 5 more ...; updatedAt: Date; }' is not assignable to parameter of type 'ChatSessionProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'endedAt' are incompatible.
    Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(9,40): error TS6133: 'IntentClassificationContext' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(21,1): error TS6133: 'IntentResult' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(85,5): error TS6133: 'messageHistory' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(90,7): error TS2375: Type '{ name: undefined; email: undefined; phone: undefined; company: undefined; }' is not assignable to type '{ name?: string; email?: string; phone?: string; company?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'name' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(162,5): error TS6133: 'message' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(163,5): error TS6133: 'context' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(315,41): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(385,42): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(385,65): error TS6133: 'context' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(391,25): error TS6133: 'operation' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(391,44): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(391,67): error TS6133: 'context' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(533,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(565,36): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(571,38): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(596,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(597,5): error TS6133: 'dateFrom' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(598,5): error TS6133: 'dateTo' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(703,36): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(725,36): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(733,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(753,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(754,5): error TS6133: 'dateFrom' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(755,5): error TS6133: 'dateTo' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(823,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(837,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(838,5): error TS6133: 'dateFrom' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(839,5): error TS6133: 'dateTo' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(840,5): error TS6133: 'groupBy' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(892,5): error TS6133: 'filters' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(918,26): error TS6133: 'userId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(943,22): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(943,46): error TS6133: 'dateFrom' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(943,62): error TS6133: 'dateTo' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(952,47): error TS6133: 'filters' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(956,31): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(956,55): error TS6133: 'daysSinceLastContact' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1004,26): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1004,50): error TS6133: 'dateFrom' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1004,66): error TS6133: 'dateTo' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1033,24): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1042,39): error TS6133: 'updates' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1075,5): error TS6133: 'callType' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1152,20): error TS6133: 'contextWindowService' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1157,20): error TS6133: 'sessionUpdateService' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1162,11): error TS6133: 'tokenCountingService' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1167,11): error TS6133: 'enhancedAnalysisService' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1175,11): error TS6133: 'tokenCountCache' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1177,11): error TS6133: 'intentClassificationService' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1185,11): error TS6133: 'knowledgeRetrievalService' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1197,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1199,5): error TS6133: 'config' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1200,5): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1225,5): error TS6133: 'contextWindow' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1227,5): error TS6133: 'loggingContext' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1237,50): error TS6133: 'maxTokens' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1241,18): error TS6133: 'messages' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1241,43): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1241,66): error TS6133: 'apiAnalysisData' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1255,5): error TS6133: 'config' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1257,5): error TS6133: 'sharedLogFile' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1263,5): error TS6133: 'messages' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1264,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1265,5): error TS6133: 'apiAnalysisData' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1279,5): error TS6133: 'message' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1280,5): error TS6133: 'allMessages' is declared but its value is never read.
lib/chatbot-widget/__tests__/test-utils/MockServices.ts(1281,5): error TS6133: 'apiAnalysisData' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(119,7): error TS6133: 'mockErrorTrackingFacade' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(120,7): error TS6133: 'mockLoggingService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(124,7): error TS6133: 'mockProcessingService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(125,7): error TS6133: 'mockContextManagementService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(126,7): error TS6133: 'mockSessionUpdateService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(151,9): error TS6133: 'createMockChatSession' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(168,9): error TS6133: 'createMockChatbotConfig' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.error-handling.test.ts(181,9): error TS6133: 'createMockChatMessage' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow-fixed.test.ts(22,7): error TS6133: 'createMockChatSession' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow-fixed.test.ts(39,7): error TS6133: 'createMockChatMessage' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow-fixed.test.ts(47,7): error TS6133: 'createMockChatbotConfig' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow-simple.test.ts(293,13): error TS6133: 'mockConfig' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow-simple.test.ts(489,15): error TS6133: 'isAcceptableError' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow.test.ts(15,1): error TS6133: 'ProcessMessageResult' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow.test.ts(218,7): error TS6133: 'mockWorkflowService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow.test.ts(219,7): error TS6133: 'mockProcessingService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow.test.ts(220,7): error TS6133: 'mockContextManagementService' is declared but its value is never read.
lib/chatbot-widget/__tests__/unit/use-cases/ProcessChatMessageUseCase.workflow.test.ts(221,7): error TS6133: 'mockSessionUpdateService' is declared but its value is never read.
lib/chatbot-widget/application/commands/handlers/CreateChatbotConfigHandler.ts(24,65): error TS2379: Argument of type '{ organizationId: string; name: string; description: string | undefined; avatarUrl: string | undefined; personalitySettings: PersonalitySettings; knowledgeBase: KnowledgeBase; operatingHours: OperatingHours; leadQualificationQuestions: LeadQualificationQuestion[]; isActive: boolean | undefined; }' is not assignable to parameter of type 'ConfigureChatbotRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'description' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/commands/handlers/SendMessageHandler.ts(29,9): error TS2375: Type '{ clientInfo: { userAgent?: string; ipAddress?: string; location?: string; } | undefined; }' is not assignable to type '{ readonly userId?: string; readonly timestamp?: string; readonly clientInfo?: Record<string, unknown>; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'clientInfo' are incompatible.
    Type '{ userAgent?: string; ipAddress?: string; location?: string; } | undefined' is not assignable to type 'Record<string, unknown>'.
      Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/chatbot-widget/application/dto/ProcessChatMessageRequest.ts(51,7): error TS2412: Type '{ userId: string | undefined; timestamp: string | undefined; clientInfo: Record<string, unknown> | undefined; } | undefined' is not assignable to type '{ readonly userId?: string; readonly timestamp?: string; readonly clientInfo?: Record<string, unknown>; } | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/application/mappers/ChatbotConfigMapper.ts(40,7): error TS2322: Type '{ id: string; question: string; type: "text" | "email" | "phone" | "select" | "multiselect"; options: string[] | undefined; isRequired: boolean; order: number; scoringWeight: number; }[]' is not assignable to type 'LeadQualificationQuestionDto[]'.
  Type '{ id: string; question: string; type: "text" | "email" | "phone" | "select" | "multiselect"; options: string[] | undefined; isRequired: boolean; order: number; scoringWeight: number; }' is not assignable to type 'LeadQualificationQuestionDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'options' are incompatible.
      Type 'string[] | undefined' is not assignable to type 'string[]'.
        Type 'undefined' is not assignable to type 'string[]'.
lib/chatbot-widget/application/mappers/ChatbotConfigMapper.ts(67,7): error TS2322: Type '{ id: string; question: string; type: "text" | "email" | "phone" | "select" | "multiselect"; options: string[] | undefined; isRequired: boolean; order: number; scoringWeight: number; }[]' is not assignable to type 'LeadQualificationQuestion[]'.
  Type '{ id: string; question: string; type: "text" | "email" | "phone" | "select" | "multiselect"; options: string[] | undefined; isRequired: boolean; order: number; scoringWeight: number; }' is not assignable to type 'LeadQualificationQuestion' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'options' are incompatible.
      Type 'string[] | undefined' is not assignable to type 'string[]'.
        Type 'undefined' is not assignable to type 'string[]'.
lib/chatbot-widget/application/mappers/ChatbotConfigMapper.ts(93,7): error TS2322: Type '{ id: string; question: string; type: "text" | "email" | "phone" | "select" | "multiselect"; options: string[] | undefined; isRequired: boolean; order: number; scoringWeight: number; }[]' is not assignable to type 'LeadQualificationQuestion[]'.
  Type '{ id: string; question: string; type: "text" | "email" | "phone" | "select" | "multiselect"; options: string[] | undefined; isRequired: boolean; order: number; scoringWeight: number; }' is not assignable to type 'LeadQualificationQuestion' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'options' are incompatible.
      Type 'string[] | undefined' is not assignable to type 'string[]'.
        Type 'undefined' is not assignable to type 'string[]'.
lib/chatbot-widget/application/mappers/ChatbotConfigMapper.ts(159,7): error TS2322: Type '{ id: string; url: string; name: string; description: string | undefined; isActive: boolean; crawlSettings: { maxPages: number; maxDepth: number; includePatterns: string[]; excludePatterns: string[]; respectRobotsTxt: boolean; crawlFrequency: "manual" | ... 2 more ... | "monthly"; includeImages: boolean; includePDFs...' is not assignable to type 'WebsiteSourceDto[]'.
  Type '{ id: string; url: string; name: string; description: string | undefined; isActive: boolean; crawlSettings: { maxPages: number; maxDepth: number; includePatterns: string[]; excludePatterns: string[]; respectRobotsTxt: boolean; crawlFrequency: "manual" | ... 2 more ... | "monthly"; includeImages: boolean; includePDFs...' is not assignable to type 'WebsiteSourceDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'description' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/ChatbotConfigMapper.ts(196,7): error TS2322: Type '{ id: string; url: string; name: string; description: string | undefined; isActive: boolean; crawlSettings: { maxPages: number; maxDepth: number; includePatterns: string[]; excludePatterns: string[]; respectRobotsTxt: boolean; crawlFrequency: "manual" | ... 2 more ... | "monthly"; includeImages: boolean; includePDFs...' is not assignable to type 'WebsiteSource[]'.
  Type '{ id: string; url: string; name: string; description: string | undefined; isActive: boolean; crawlSettings: { maxPages: number; maxDepth: number; includePatterns: string[]; excludePatterns: string[]; respectRobotsTxt: boolean; crawlFrequency: "manual" | ... 2 more ... | "monthly"; includeImages: boolean; includePDFs...' is not assignable to type 'WebsiteSource' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'description' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/ChatSessionMapper.ts(28,5): error TS2375: Type '{ id: string; chatbotConfigId: string; visitorId: string; sessionToken: string; contextData: SessionContextDto; leadQualificationState: LeadQualificationStateDto; ... 7 more ...; currentUrl: string | undefined; }' is not assignable to type 'ChatSessionDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'endedAt' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/ChatSessionMapper.ts(49,40): error TS2379: Argument of type '{ id: string; chatbotConfigId: string; visitorId: string; sessionToken: string; contextData: import("../../domain/value-objects/session-management/ChatSessionTypes").SessionContext; ... 8 more ...; currentUrl: string | undefined; }' is not assignable to parameter of type 'ChatSessionProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'endedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/application/mappers/DebugInfoMapper.ts(64,11): error TS2375: Type '{ session: { sessionId: string; userMessageId: string; botMessageId: string; conversationMetrics: ConversationMetricsData; performanceMetrics: { processingTimeMs: number; }; }; intentClassification: import("../dto/debug-components/IntentClassificationDebugDto").IntentClassificationDebugDto | undefined; journeyProgre...' is not assignable to type 'DebugInfoDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'request' are incompatible.
    Type 'RequestDebugDto | undefined' is not assignable to type 'RequestDebugDto'.
      Type 'undefined' is not assignable to type 'RequestDebugDto'.
lib/chatbot-widget/application/mappers/LeadMapper.ts(21,5): error TS2375: Type '{ id: string; sessionId: string; organizationId: string; chatbotConfigId: string; contactInfo: ContactInfoDto; qualificationData: QualificationDataDto; ... 8 more ...; lastContactedAt: string | undefined; }' is not assignable to type 'LeadDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/LeadMapper.ts(71,7): error TS2412: Type '{ street: string | undefined; city: string | undefined; state: string | undefined; zipCode: string | undefined; country: string | undefined; } | undefined' is not assignable to type 'AddressDto | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/application/mappers/LeadMapper.ts(93,7): error TS2412: Type '{ street: string | undefined; city: string | undefined; state: string | undefined; zipCode: string | undefined; country: string | undefined; } | undefined' is not assignable to type 'Address | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/application/mappers/LeadMapper.ts(105,5): error TS2375: Type '{ answeredQuestions: AnsweredQuestionDto[]; engagementLevel: EngagementLevel; budget: string | undefined; timeline: string | undefined; decisionMaker: boolean | undefined; ... 4 more ...; interests: string[]; }' is not assignable to type 'QualificationDataDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'budget' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/LeadMapper.ts(121,5): error TS2375: Type '{ budget: string | undefined; timeline: string | undefined; decisionMaker: boolean | undefined; companySize: string | undefined; industry: string | undefined; currentSolution: string | undefined; painPoints: string[]; interests: string[]; answeredQuestions: QualificationAnswer[]; engagementLevel: "low" | "medium" | ...' is not assignable to type 'QualificationDataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'budget' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/LeadMapper.ts(160,5): error TS2375: Type '{ type: "chatbot_widget"; chatbotName: string | undefined; referrerUrl: string | undefined; campaignSource: string | undefined; medium: string; utmSource: string | undefined; utmMedium: string | undefined; utmCampaign: string | undefined; utmContent: undefined; utmTerm: undefined; }' is not assignable to type 'LeadSourceDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'chatbotName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/LeadMapper.ts(176,5): error TS2375: Type '{ channel: "chatbot_widget"; campaign: string | undefined; referrer: string | undefined; utmSource: string | undefined; utmMedium: string | undefined; utmCampaign: string | undefined; pageUrl: string; pageTitle: undefined; }' is not assignable to type 'LeadSourceProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'campaign' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/WorkflowBoundaryMapper.ts(26,5): error TS2375: Type '{ userMessage: string; sessionId: string; organizationId: string; metadata: MessageMetadataDto | undefined; }' is not assignable to type 'ProcessMessageRequestDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'metadata' are incompatible.
    Type 'MessageMetadataDto | undefined' is not assignable to type 'MessageMetadataDto'.
      Type 'undefined' is not assignable to type 'MessageMetadataDto'.
lib/chatbot-widget/application/mappers/WorkflowBoundaryMapper.ts(38,5): error TS2375: Type '{ userId: string | undefined; timestamp: Date | undefined; clientInfo: Record<string, unknown> | undefined; }' is not assignable to type 'MessageMetadataDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'userId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/WorkflowBoundaryMapper.ts(58,5): error TS2375: Type '{ primaryIntent: string; confidence: number; entities: Record<string, unknown>; sentiment: "positive" | "neutral" | "negative" | undefined; }' is not assignable to type 'IntentAnalysisDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sentiment' are incompatible.
    Type '"positive" | "neutral" | "negative" | undefined' is not assignable to type '"positive" | "neutral" | "negative"'.
      Type 'undefined' is not assignable to type '"positive" | "neutral" | "negative"'.
lib/chatbot-widget/application/mappers/WorkflowBoundaryMapper.ts(79,5): error TS2375: Type '{ currentStage: string; completedStages: string[]; nextRecommendedStage: string | undefined; progressPercentage: number; }' is not assignable to type 'JourneyStateDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'nextRecommendedStage' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/mappers/WorkflowBoundaryMapper.ts(128,5): error TS2375: Type '{ primaryIntent: string; primaryConfidence: number; sentiment: "positive" | "neutral" | "negative" | undefined; emotionalTone: string | undefined; entities: Record<string, unknown>; }' is not assignable to type 'UnifiedAnalysisResultDto' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sentiment' are incompatible.
    Type '"positive" | "neutral" | "negative" | undefined' is not assignable to type '"positive" | "neutral" | "negative"'.
      Type 'undefined' is not assignable to type '"positive" | "neutral" | "negative"'.
lib/chatbot-widget/application/services/__tests__/ContextInjectionApplicationService.test.ts(49,6): error TS6196: 'ConversationPhase' is declared but never used.
lib/chatbot-widget/application/services/__tests__/ContextInjectionApplicationService.test.ts(755,13): error TS6133: 'expectedUtilization' is declared but its value is never read.
lib/chatbot-widget/application/services/__tests__/ErrorTrackingFacade.test.ts(410,31): error TS18048: 'persistenceCall' is possibly 'undefined'.
lib/chatbot-widget/application/services/__tests__/ErrorTrackingFacade.test.ts(424,31): error TS18048: 'persistenceCall' is possibly 'undefined'.
lib/chatbot-widget/application/services/analysis/ApiResponseExtractor.ts(130,5): error TS2375: Type '{ detectedIntent: string; confidence: number; alternativeIntents: never[]; category: "general"; threshold: number; isAmbiguous: true; rawClassificationResult: undefined; processingTime: number; modelUsed: string; }' is not assignable to type '{ detectedIntent: string; confidence: number; alternativeIntents: { intent: string; confidence: number; }[]; category: "qualification" | "support" | "sales" | "general"; threshold: number; isAmbiguous: boolean; rawClassificationResult?: Record<...>; processingTime?: number; modelUsed?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'rawClassificationResult' are incompatible.
    Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/chatbot-widget/application/services/BatchProcessingService.ts(63,52): error TS2379: Argument of type '{ organizationId: string; chatbotConfigId: string; websiteSources: WebsiteSource[]; forceRefresh: boolean | undefined; }' is not assignable to parameter of type 'UpdateRequestValidation' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'forceRefresh' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
lib/chatbot-widget/application/services/BatchProcessingService.ts(151,13): error TS2375: Type '{ organizationId: string; chatbotConfigId: string; websiteSource: WebsiteSource; forceRefresh: boolean | undefined; }' is not assignable to type 'WebsiteCrawlRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'forceRefresh' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
lib/chatbot-widget/application/services/configuration-management/ChatSessionService.ts(20,20): error TS6133: 'conversationContextService' is declared but its value is never read.
lib/chatbot-widget/application/services/configuration-management/ChatSessionService.ts(23,20): error TS6133: 'basicTokenCountingService' is declared but its value is never read.
lib/chatbot-widget/application/services/ContentDeduplicationApplicationService.ts(94,35): error TS2379: Argument of type '{ id: string; url: string; content: string; title: string | undefined; configId: string; }' is not assignable to parameter of type 'ExistingKnowledgeEntry' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'title' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/ContextInjectionFacadeHelpers.ts(99,3): error TS2375: Type '{ availableTokens: number; messageCount: number; entityData: import("../../domain/services/interfaces/ContextInjectionTypes").EntityData | undefined; leadScore: number | undefined; qualificationStatus: string | undefined; }' is not assignable to type 'ContextSelectionCriteria' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'leadScore' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/ContextInjectionFacadeHelpers.ts(118,3): error TS2375: Type '{ availableTokens: number; messageCount: number; entityData: import("../../domain/services/interfaces/ContextInjectionTypes").EntityData | undefined; leadScore: number | undefined; }' is not assignable to type 'ContextSelectionCriteria' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'leadScore' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/ContextInjectionHelpers.ts(26,3): error TS2375: Type '{ availableTokens: number; leadScore: number | undefined; qualificationStatus: string | undefined; messageCount: number; entityData: EntityData | undefined; }' is not assignable to type 'ContextSelectionCriteria' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'leadScore' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/conversation-management/AiConversationService.ts(27,20): error TS6133: 'errorTrackingService' is declared but its value is never read.
lib/chatbot-widget/application/services/conversation-management/AiConversationService.ts(32,22): error TS6138: Property 'intentClassificationService' is declared but its value is never read.
lib/chatbot-widget/application/services/conversation-management/AiConversationService.ts(33,22): error TS6138: Property 'knowledgeRetrievalService' is declared but its value is never read.
lib/chatbot-widget/application/services/conversation-management/AiConversationService.ts(126,7): error TS2375: Type '{ email: string | undefined; phone: string | undefined; name: string | undefined; company: string | undefined; }' is not assignable to type '{ name?: string; email?: string; phone?: string; company?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'name' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/conversation-management/AiConversationService.ts(216,21): error TS18048: 'choice' is possibly 'undefined'.
lib/chatbot-widget/application/services/conversation-management/AiConversationService.ts(240,5): error TS2375: Type '{ content: string; confidence: number; sentiment: "positive" | "neutral" | "negative" | undefined; processingTimeMs: number; metadata: { model: string; promptTokens: number; completionTokens: number; totalTokens: number; }; }' is not assignable to type 'AIResponse' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sentiment' are incompatible.
    Type '"positive" | "neutral" | "negative" | undefined' is not assignable to type '"positive" | "neutral" | "negative"'.
      Type 'undefined' is not assignable to type '"positive" | "neutral" | "negative"'.
lib/chatbot-widget/application/services/conversation-management/ConversationContextManagementService.ts(38,5): error TS6133: 'newUserMessage' is declared but its value is never read.
lib/chatbot-widget/application/services/conversation-management/ConversationContextManagementService.ts(101,5): error TS2375: Type '{ messages: { readonly id: string; readonly content: string; readonly role: "user" | "assistant" | "system"; readonly timestamp: Date; readonly metadata?: Record<string, unknown>; }[]; summary: string | undefined; tokenUsage: { ...; }; wasCompressed: boolean; }' is not assignable to type 'TokenAwareContextResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'summary' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/conversation-management/SystemPromptBuilderService.ts(164,9): error TS2375: Type '{ relevantKnowledge: { id: string; title: string; content: string; relevanceScore: number; }[]; entityContextPrompt: string | undefined; journeyState: { stage: string; confidence: number; isSalesReady(): boolean; getRecommendedActions(): string[]; } | undefined; knowledgeRetrievalThreshold: number | undefined; }' is not assignable to type 'EnhancedPromptContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'entityContextPrompt' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(31,13): error TS6138: Property 'validationService' is declared but its value is never read.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(58,9): error TS2379: Argument of type '{ status: CrawledPageStatus | undefined; }' is not assignable to parameter of type 'FilteringOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'status' are incompatible.
    Type 'CrawledPageStatus | undefined' is not assignable to type 'CrawledPageStatus'.
      Type 'undefined' is not assignable to type 'CrawledPageStatus'.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(64,9): error TS2379: Argument of type '{ sortBy: CrawledPageSortField | undefined; sortOrder: SortOrder | undefined; }' is not assignable to parameter of type 'SortingOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sortBy' are incompatible.
    Type 'CrawledPageSortField | undefined' is not assignable to type 'CrawledPageSortField'.
      Type 'undefined' is not assignable to type 'CrawledPageSortField'.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(70,9): error TS2379: Argument of type '{ limit: number | undefined; offset: number | undefined; }' is not assignable to parameter of type 'PaginationOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'limit' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(184,61): error TS2379: Argument of type '{ limit: number | undefined; offset: number | undefined; }' is not assignable to parameter of type 'PaginationOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'limit' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(190,59): error TS2379: Argument of type '{ status: CrawledPageStatus | undefined; }' is not assignable to parameter of type 'FilteringOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'status' are incompatible.
    Type 'CrawledPageStatus | undefined' is not assignable to type 'CrawledPageStatus'.
      Type 'undefined' is not assignable to type 'CrawledPageStatus'.
lib/chatbot-widget/application/services/CrawledPagesQueryService.ts(195,57): error TS2379: Argument of type '{ sortBy: CrawledPageSortField | undefined; sortOrder: SortOrder | undefined; }' is not assignable to parameter of type 'SortingOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sortBy' are incompatible.
    Type 'CrawledPageSortField | undefined' is not assignable to type 'CrawledPageSortField'.
      Type 'undefined' is not assignable to type 'CrawledPageSortField'.
lib/chatbot-widget/application/services/CrawlOrchestrationService.ts(71,51): error TS2379: Argument of type '{ organizationId: string; chatbotConfigId: string; websiteSource: WebsiteSource; forceRefresh: boolean | undefined; }' is not assignable to parameter of type 'CrawlRequestValidation' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'forceRefresh' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
lib/chatbot-widget/application/services/CrawlOrchestrationService.ts(90,7): error TS2375: Type '{ success: true; knowledgeItems: undefined; crawledPages: { url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "failed" | "skipped"; errorMessage?: string; responseTime?: number; statusCode?: number; }[]; }' is not assignable to type 'WebsiteCrawlResponse' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'knowledgeItems' are incompatible.
    Type 'undefined' is not assignable to type 'KnowledgeItem[]'.
lib/chatbot-widget/application/services/EmbeddingBatchApplicationService.ts(90,9): error TS2345: Argument of type 'EmbeddingRequest[] | undefined' is not assignable to parameter of type 'EmbeddingRequest[]'.
  Type 'undefined' is not assignable to type 'EmbeddingRequest[]'.
lib/chatbot-widget/application/services/EmbeddingBatchApplicationService.ts(148,13): error TS2322: Type '{ id: string; content: string; embedding: number[] | undefined; metadata: Record<string, unknown>; }[]' is not assignable to type 'EmbeddingResult[]'.
  Type '{ id: string; content: string; embedding: number[] | undefined; metadata: Record<string, unknown>; }' is not assignable to type 'EmbeddingResult'.
    Types of property 'embedding' are incompatible.
      Type 'number[] | undefined' is not assignable to type 'number[]'.
        Type 'undefined' is not assignable to type 'number[]'.
lib/chatbot-widget/application/services/EmbeddingServiceFacade.ts(103,11): error TS2375: Type '{ batchSize: 10; progressCallback: ((processed: number, total: number) => void) | undefined; }' is not assignable to type 'BatchProcessingOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'progressCallback' are incompatible.
    Type '((processed: number, total: number) => void) | undefined' is not assignable to type '(processed: number, total: number) => void'.
      Type 'undefined' is not assignable to type '(processed: number, total: number) => void'.
lib/chatbot-widget/application/services/ErrorTrackingFacade.ts(262,15): error TS2375: Type '{ errorCode: string; errorMessage: string; errorContext: { [x: string]: unknown; }; timestamp: Date; stack: string | undefined; }' is not assignable to type 'ErrorPersistenceData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'stack' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/ErrorTrackingFacade.ts(273,15): error TS2375: Type '{ sessionId: string | undefined; userId: string | undefined; organizationId: string; conversationId: string | undefined; messageId: string | undefined; modelName: string | undefined; tokenUsage: { ...; } | undefined; performanceMetrics: { ...; } | undefined; metadata: Record<...>; }' is not assignable to type 'ErrorPersistenceContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sessionId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/ErrorTrackingFacade.ts(328,11): error TS6133: 'sanitizeUnifiedResult' is declared but its value is never read.
lib/chatbot-widget/application/services/KnowledgeBaseFormApplicationService.ts(41,22): error TS6138: Property 'vectorRepository' is declared but its value is never read.
lib/chatbot-widget/application/services/lead-management/LeadCaptureDecisionService.ts(19,13): error TS6138: Property 'conversationFlowService' is declared but its value is never read.
lib/chatbot-widget/application/services/lead-management/LeadCaptureDecisionService.ts(28,5): error TS6133: 'config' is declared but its value is never read.
lib/chatbot-widget/application/services/lead-management/LeadCaptureService.ts(83,7): error TS2379: Argument of type 'ContactInfo' is not assignable to parameter of type 'ContactInfoProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'email' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/lead-management/LeadLifecycleService.ts(44,11): error TS6133: '_newState' is declared but its value is never read.
lib/chatbot-widget/application/services/lead-management/LeadLifecycleService.ts(44,65): error TS2379: Argument of type '{ followUpStatus: FollowUpStatus; assignedTo: string | undefined; lastContactedAt: Date | undefined; updatedAt: Date; }' is not assignable to parameter of type 'LeadLifecycleState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/lead-management/LeadLifecycleService.ts(135,58): error TS2379: Argument of type '{ followUpStatus: FollowUpStatus; assignedTo: string | undefined; }' is not assignable to parameter of type '{ followUpStatus?: FollowUpStatus; assignedTo?: string; tags?: { add?: string[]; remove?: string[]; }; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/lead-management/LeadQueryService.ts(96,9): error TS2412: Type '{ min: number | undefined; max: number | undefined; } | undefined' is not assignable to type '{ min?: number; max?: number; } | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/application/services/lead-management/LeadQueryService.ts(141,75): error TS2379: Argument of type '{ qualificationStatus: QualificationStatus[] | undefined; assignedTo: string[] | undefined; dateRange: { start: Date; end: Date; } | undefined; }' is not assignable to parameter of type 'LeadExportFilters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'qualificationStatus' are incompatible.
    Type 'QualificationStatus[] | undefined' is not assignable to type 'string[]'.
      Type 'undefined' is not assignable to type 'string[]'.
lib/chatbot-widget/application/services/lead-management/LeadQueryService.ts(189,7): error TS2379: Argument of type '{ assignedTo: string[] | undefined; status: QualificationStatus[] | undefined; dateFrom: Date | undefined; dateTo: Date | undefined; }' is not assignable to parameter of type 'LeadSearchFilters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'status' are incompatible.
    Type 'QualificationStatus[] | undefined' is not assignable to type 'string[]'.
      Type 'undefined' is not assignable to type 'string[]'.
lib/chatbot-widget/application/services/message-processing/ChatMessageProcessingService.ts(67,22): error TS6138: Property 'aiConversationService' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/ChatMessageProcessingService.ts(69,22): error TS6138: Property 'conversationContextOrchestrator' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/ChatMessageProcessingService.ts(70,22): error TS6138: Property 'errorTrackingFacade' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/ConversationContextBuilderService.ts(64,5): error TS2412: Type 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/ConversationContextBuilderService.ts(111,5): error TS2375: Type '{ chatbotConfig: ChatbotConfig; session: ChatSession; messageHistory: ChatMessage[]; systemPrompt: string; conversationSummary: string | undefined; }' is not assignable to type 'ConversationContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'conversationSummary' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/ConversationContextBuilderService.ts(269,13): error TS2379: Argument of type '{ sessionId: string | undefined; organizationId: string; conversationId: string | undefined; metadata: { messageCount: number; error: string; }; }' is not assignable to parameter of type 'ChatbotErrorContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sessionId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/ConversationFlowAnalyzerService.ts(113,11): error TS2375: Type '{ goals: never[]; decisionMakers: never[]; painPoints: never[]; integrationNeeds: never[]; evaluationCriteria: never[]; budget: null; timeline: null; eventType: string; urgency: "low" | "medium" | "high" | null; ... 9 more ...; severity: "low" | ... 2 more ... | "critical"; }' is not assignable to type 'ReadinessEntityContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'productName' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/ConversationFlowAnalyzerService.ts(184,11): error TS6133: '_leadData' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/EntityMergeProcessorService.ts(81,65): error TS2379: Argument of type '{ conversationPhase: string | undefined; engagementLevel: string | undefined; sentiment: "positive" | "neutral" | "negative" | undefined; emotionalTone: string | undefined; ... 16 more ...; evaluationCriteria?: string[]; }' is not assignable to parameter of type 'UnifiedEntities' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sentiment' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/EntityMergeProcessorService.ts(169,7): error TS2375: Type '{ urgency: "low" | "medium" | "high"; goals: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; company: string | undefined; role: string | undefined; ... 5 more ...; visitorName: string | undefined; }' is not assignable to type '{ urgency: "low" | "medium" | "high"; goals: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; company?: string; role?: string; budget?: string; timeline?: string; teamSize?: string; industry?: string; contactMethod?: string; visitorName?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'company' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/EntityMergeProcessorService.ts(192,7): error TS2375: Type '{ role: string | undefined; industry: string | undefined; evidence: string[]; }' is not assignable to type '{ role?: string; industry?: string; evidence: string[]; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'role' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/LeadScoreCalculatorService.ts(65,7): error TS2375: Type '{ email: undefined; phone: string | undefined; name: string | undefined; }' is not assignable to type '{ readonly email?: string; readonly phone?: string; readonly name?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'email' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/LeadScoreCalculatorService.ts(70,7): error TS2375: Type '{ company: string | undefined; industry: string | undefined; size: string | undefined; }' is not assignable to type '{ readonly company?: string; readonly industry?: string; readonly size?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'company' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/LeadScoreCalculatorService.ts(75,7): error TS2375: Type '{ urgency: "low" | "medium" | "high" | undefined; budget: "low" | "medium" | "high" | undefined; timeline: "medium" | "immediate" | "short" | "long" | undefined; }' is not assignable to type '{ readonly urgency?: "low" | "medium" | "high"; readonly budget?: "low" | "medium" | "high"; readonly timeline?: "medium" | "immediate" | "short" | "long"; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'urgency' are incompatible.
    Type '"low" | "medium" | "high" | undefined' is not assignable to type '"low" | "medium" | "high"'.
      Type 'undefined' is not assignable to type '"low" | "medium" | "high"'.
lib/chatbot-widget/application/services/message-processing/LeadScoreCalculatorService.ts(80,7): error TS2375: Type '{ messageCount: undefined; sessionDuration: undefined; responseTime: undefined; }' is not assignable to type '{ readonly messageCount?: number; readonly sessionDuration?: number; readonly responseTime?: number; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'messageCount' are incompatible.
    Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/message-processing/MessageProcessingWorkflowService.ts(144,22): error TS6138: Property 'aiConversationService' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/MessageProcessingWorkflowService.ts(198,5): error TS2375: Type '{ session: ChatSession; userMessage: ChatMessage; botMessage: ChatMessage; shouldCaptureLeadInfo: boolean; suggestedNextActions: never[]; conversationMetrics: ConversationMetrics; intentAnalysis: IntentAnalysis | undefined; journeyState: JourneyState | undefined; relevantKnowledge: RelevantKnowledge | undefined; cal...' is not assignable to type 'WorkflowFinalResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'intentAnalysis' are incompatible.
    Type 'IntentAnalysis | undefined' is not assignable to type 'IntentAnalysis'.
      Type 'undefined' is not assignable to type 'IntentAnalysis'.
lib/chatbot-widget/application/services/message-processing/MessageProcessingWorkflowService.ts(288,7): error TS2375: Type '{ currentStage: string; completedStages: string[]; nextRecommendedStage: string | undefined; progressPercentage: number; }' is not assignable to type 'JourneyState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'nextRecommendedStage' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/message-processing/MessageProcessingWorkflowService.ts(318,11): error TS6133: 'determineConversationPhase' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/MessageProcessingWorkflowService.ts(325,11): error TS6133: 'determineEngagementLevel' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/SessionContextUpdateService.ts(137,7): error TS2375: Type '{ decisionMakers: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; budget: { value: string; confidence: number; lastUpdated: string; sourceMessageId: string; } | undefined; ... 7 more ...; teamSize: { ...; } | undefined; }' is not assignable to type '{ decisionMakers: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; budget?: { value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }; ... 19 more ...; entityMetadata?: { ...; }; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'budget' are incompatible.
    Type '{ value: string; confidence: number; lastUpdated: string; sourceMessageId: string; } | undefined' is not assignable to type '{ value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }'.
      Type 'undefined' is not assignable to type '{ value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }'.
lib/chatbot-widget/application/services/message-processing/UnifiedResponseProcessorService.ts(87,11): error TS6133: 'extractTokenUsage' is declared but its value is never read.
lib/chatbot-widget/application/services/message-processing/UnifiedResponseProcessorService.ts(116,5): error TS2322: Type '{ type: string; value: string; confidence: number; start: undefined; end: undefined; }[]' is not assignable to type '{ type: string; value: string; confidence: number; start?: number; end?: number; }[]'.
  Type '{ type: string; value: string; confidence: number; start: undefined; end: undefined; }' is not assignable to type '{ type: string; value: string; confidence: number; start?: number; end?: number; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'start' are incompatible.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/application/services/ProcessChatMessageWorkflowOrchestrator.ts(44,22): error TS6138: Property 'contextManagementService' is declared but its value is never read.
lib/chatbot-widget/application/services/ProcessChatMessageWorkflowOrchestrator.ts(149,7): error TS2412: Type '{ userId: string | undefined; timestamp: Date | undefined; clientInfo: Record<string, unknown> | undefined; } | undefined' is not assignable to type 'MessageMetadata | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/application/services/VectorKnowledgeApplicationService.ts(43,9): error TS2379: Argument of type '{ threshold: number; limit: number; categoryFilter: string | undefined; sourceTypeFilter: string | undefined; }' is not assignable to parameter of type '{ threshold?: number; limit?: number; categoryFilter?: string; sourceTypeFilter?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'categoryFilter' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/WebsiteKnowledgeApplicationService.ts(76,11): error TS2375: Type '{ organizationId: string; chatbotConfigId: string; sourceUrl: string | undefined; }' is not assignable to type 'CrawledPagesQueryRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sourceUrl' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/WebsiteKnowledgeApplicationService.ts(100,69): error TS2379: Argument of type '{ organizationId: string; chatbotConfigId: string; sourceUrl: string | undefined; dateRange: { startDate: Date; endDate: Date; } | undefined; }' is not assignable to parameter of type 'CrawledPagesStatsRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sourceUrl' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/services/workflow/WorkflowContextAnalysisService.ts(34,20): error TS6133: 'loggingService' is declared but its value is never read.
lib/chatbot-widget/application/services/workflow/WorkflowErrorTrackingService.ts(17,20): error TS6133: 'loggingService' is declared but its value is never read.
lib/chatbot-widget/application/services/workflow/WorkflowResultBuilderService.ts(31,11): error TS6133: '_intentAnalysis' is declared but its value is never read.
lib/chatbot-widget/application/services/workflow/WorkflowResultBuilderService.ts(32,11): error TS6133: '_journeyState' is declared but its value is never read.
lib/chatbot-widget/application/services/workflow/WorkflowResultBuilderService.ts(34,11): error TS6133: '_callToAction' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/__tests__/ProcessChatMessageUseCase.test.ts(16,1): error TS6133: 'ChatbotTestDataFactory' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/__tests__/ProcessChatMessageUseCase.test.ts(20,3): error TS6133: 'DomainError' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/CaptureLeadUseCase.ts(68,40): error TS2379: Argument of type '{ channel: "chatbot_widget"; pageUrl: string; pageTitle: string; campaign: string | undefined; referrer: string | undefined; }' is not assignable to parameter of type 'LeadSourceProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'campaign' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/CaptureLeadUseCase.ts(124,51): error TS2379: Argument of type '{ email: string | undefined; phone: string | undefined; name: string | undefined; company: string | undefined; }' is not assignable to parameter of type 'ContactInfoProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'email' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/CaptureLeadUseCase.ts(130,53): error TS2379: Argument of type 'ContactInfo' is not assignable to parameter of type 'Partial<ContactInfoProps>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'email' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/CaptureLeadUseCase.ts(144,11): error TS6133: 'validateRequest' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ConfigureChatbotUseCase.ts(54,48): error TS2379: Argument of type '{ organizationId: string; name: string; description: string; avatarUrl: string | undefined; personalitySettings: PersonalitySettings; knowledgeBase: KnowledgeBase; operatingHours: OperatingHours; leadQualificationQuestions: LeadQualificationQuestion[]; isActive: boolean; }' is not assignable to parameter of type 'Omit<ChatbotConfigProps, "updatedAt" | "id" | "createdAt" | "aiConfiguration"> & { aiConfiguration?: AIConfiguration; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Type '{ organizationId: string; name: string; description: string; avatarUrl: string | undefined; personalitySettings: PersonalitySettings; knowledgeBase: KnowledgeBase; operatingHours: OperatingHours; leadQualificationQuestions: LeadQualificationQuestion[]; isActive: boolean; }' is not assignable to type 'Omit<ChatbotConfigProps, "updatedAt" | "id" | "createdAt" | "aiConfiguration">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'avatarUrl' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/ConfigureChatbotUseCase.ts(181,11): error TS6133: '_maxScore' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(113,7): error TS2322: Type '{ storedItems: number; totalPages: number; successfulPages: number; failedPages: number; skippedPages: number; crawledPages: { url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | ... 1 more ... | "failed"; errorMessage: string | undefined; responseTime: number | undefined...' is not assignable to type 'CrawlAndStoreResult'.
  Types of property 'crawledPages' are incompatible.
    Type '{ url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "skipped" | "failed"; errorMessage: string | undefined; responseTime: number | undefined; statusCode: number | undefined; }[]' is not assignable to type '{ url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "skipped" | "failed"; errorMessage?: string; responseTime?: number; statusCode?: number; }[]'.
      Type '{ url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "skipped" | "failed"; errorMessage: string | undefined; responseTime: number | undefined; statusCode: number | undefined; }' is not assignable to type '{ url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "skipped" | "failed"; errorMessage?: string; responseTime?: number; statusCode?: number; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
        Types of property 'errorMessage' are incompatible.
          Type 'string | undefined' is not assignable to type 'string'.
            Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(208,14): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(208,46): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(213,25): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(224,26): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(237,49): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(260,28): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(261,18): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(263,21): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlAndStoreWebsiteUseCase.ts(265,22): error TS18048: 'knowledgeItem' is possibly 'undefined'.
lib/chatbot-widget/application/use-cases/CrawlWebsiteUseCase.ts(64,13): error TS6133: '_budget' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/CrawlWebsiteUseCase.ts(81,19): error TS6133: '_category' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/DeduplicateWebsiteContentUseCase.ts(39,13): error TS6138: Property 'urlNormalizationService' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/lead-capture-components/QualificationProcessor.ts(99,7): error TS2375: Type '{ processed: false; session: ChatSession; error: string | undefined; }' is not assignable to type '{ processed: boolean; session: ChatSession; error?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'error' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(41,22): error TS6138: Property 'sessionRepository' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(42,22): error TS6138: Property 'messageRepository' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(43,22): error TS6138: Property 'chatbotConfigRepository' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(44,22): error TS6138: Property 'aiConversationService' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(45,22): error TS6138: Property 'conversationContextOrchestrator' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(46,22): error TS6138: Property 'tokenCountingService' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(47,22): error TS6138: Property 'intentClassificationService' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(48,22): error TS6138: Property 'knowledgeRetrievalService' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ProcessChatMessageUseCase.ts(49,22): error TS6138: Property 'debugInformationService' is declared but its value is never read.
lib/chatbot-widget/application/use-cases/ValidateContentUseCase.ts(134,22): error TS2379: Argument of type '{ id: string | undefined; result: ContentValidationResult; hasErrors: boolean; }' is not assignable to parameter of type '{ id?: string; result: ContentValidationResult; hasErrors: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'id' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/application/use-cases/ValidateContentUseCase.ts(149,22): error TS2379: Argument of type '{ id: string | undefined; result: ContentValidationResult; hasErrors: true; }' is not assignable to parameter of type '{ id?: string; result: ContentValidationResult; hasErrors: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'id' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/entities/__tests__/ChatbotConfig.business-logic.test.ts(197,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/entities/__tests__/ChatbotConfig.test.ts(251,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/entities/ChatMessage.ts(54,16): error TS18048: 'lastPart' is possibly 'undefined'.
lib/chatbot-widget/domain/entities/ChatMessage.ts(129,28): error TS2379: Argument of type '{ id: string; sessionId: string; messageType: "bot"; content: string; timestamp: Date; isVisible: true; processingTime: number | undefined; aiMetadata: MessageAIMetadata; contextMetadata: MessageContextMetadata; processingMetrics: MessageProcessingMetrics; costTracking: MessageCostTracking; }' is not assignable to parameter of type 'ChatMessageProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'processingTime' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/domain/entities/Lead.ts(259,5): error TS2375: Type '{ followUpStatus: FollowUpStatus; assignedTo: string | undefined; lastContactedAt: Date | undefined; updatedAt: Date; }' is not assignable to type 'LeadLifecycleState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/entities/LeadLifecycleManager.ts(25,5): error TS2375: Type '{ followUpStatus: FollowUpStatus; lastContactedAt: Date | undefined; updatedAt: Date; assignedTo?: string; }' is not assignable to type 'LeadLifecycleState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'lastContactedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/domain/entities/LeadLifecycleManager.ts(45,5): error TS2375: Type '{ assignedTo: undefined; updatedAt: Date; followUpStatus: FollowUpStatus; lastContactedAt?: Date; }' is not assignable to type 'LeadLifecycleState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/__tests__/ContentExtractionService.test.ts(16,7): error TS6133: 'mockLink' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(15,1): error TS6133: 'KnowledgeItem' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(197,56): error TS2345: Argument of type '{ responseTime: undefined; url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "skipped" | "failed"; errorMessage?: string; statusCode?: number; }[]' is not assignable to parameter of type 'CrawledPageData[]'.
  Type '{ responseTime: undefined; url: string; title: string; content: string; depth: number; crawledAt: Date; status: "success" | "failed" | "skipped"; errorMessage?: string; statusCode?: number; }' is not assignable to type 'CrawledPageData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'responseTime' are incompatible.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(208,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(215,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(215,33): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(230,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(231,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(237,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(238,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(244,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(245,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(246,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(273,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(273,59): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(298,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(298,62): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(325,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(325,59): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(341,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/CrawlResultProcessorService.test.ts(342,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(10,32): error TS6133: 'beforeEach' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(47,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(48,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(49,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(50,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(51,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(72,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(86,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(87,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(107,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(264,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(307,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/EntityAccumulationStrategies.test.ts(308,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/SimHashContentSimilarityService.test.ts(157,70): error TS6133: 'description' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/SimHashContentSimilarityService.test.ts(278,41): error TS2345: Argument of type 'SimilarityContent | undefined' is not assignable to parameter of type 'SimilarityContent'.
  Type 'undefined' is not assignable to type 'SimilarityContent'.
lib/chatbot-widget/domain/services/__tests__/SimHashContentSimilarityService.test.ts(534,40): error TS18048: 'firstResult' is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/SimHashContentSimilarityService.test.ts(535,45): error TS18048: 'firstResult' is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/SimHashContentSimilarityService.test.ts(536,41): error TS18048: 'firstResult' is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/UrlNormalizationService.test.ts(264,47): error TS6133: 'description' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/UrlNormalizationService.test.ts(424,42): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/__tests__/UrlNormalizationService.test.ts(436,42): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/__tests__/WebsiteCrawlingDomainService.test.ts(18,3): error TS6133: 'InvalidUrlError' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/WebsiteCrawlingDomainService.test.ts(265,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/__tests__/WebsiteCrawlingWorkflows.test.ts(25,7): error TS6133: 'validationService' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/WebsiteCrawlingWorkflows.test.ts(27,7): error TS6133: 'processorService' is declared but its value is never read.
lib/chatbot-widget/domain/services/__tests__/WebsiteCrawlingWorkflows.test.ts(301,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/AdaptiveContextService.ts(21,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/domain/services/ai-configuration/KnowledgeBaseService.ts(82,23): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/KnowledgeBaseService.ts(83,27): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/KnowledgeBaseService.ts(105,29): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/PersonaGenerationService.ts(92,23): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/PersonaGenerationService.ts(93,27): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/PersonaGenerationService.ts(115,29): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/ai-configuration/SimplePromptService.ts(39,22): error TS6138: Property 'adaptiveContextService' is declared but its value is never read.
lib/chatbot-widget/domain/services/ai-configuration/SimplePromptService.ts(159,5): error TS2375: Type '{ persona: string; knowledgeBase: string; entityContext: string | undefined; relevantKnowledge: string | undefined; businessGuidance: string; conversationContext: string; journeyContext: string | undefined; }' is not assignable to type 'PromptComponents' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'entityContext' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/content-processing/ContentTypeValidationService.ts(45,48): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/content-processing/ContentTypeValidationService.ts(62,57): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/content-processing/ContentTypeValidationService.ts(78,51): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/content-processing/ContentTypeValidationService.ts(89,48): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/content-processing/ContentTypeValidationService.ts(100,40): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/content-processing/ContentTypeValidationService.ts(108,50): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/content-processing/ContentValidationService.ts(95,53): error TS6133: 'issues' is declared but its value is never read.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(102,52): error TS18048: 'canonicalItem' is possibly 'undefined'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(111,52): error TS18048: 'item' is possibly 'undefined'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(116,46): error TS2345: Argument of type 'DeduplicatableContent | undefined' is not assignable to parameter of type 'DeduplicatableContent'.
  Type 'undefined' is not assignable to type 'DeduplicatableContent'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(131,62): error TS18048: 'canonical' is possibly 'undefined'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(134,11): error TS2322: Type 'DeduplicatableContent | undefined' is not assignable to type 'DeduplicatableContent'.
  Type 'undefined' is not assignable to type 'DeduplicatableContent'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(143,11): error TS2322: Type 'DeduplicatableContent | undefined' is not assignable to type 'DeduplicatableContent'.
  Type 'undefined' is not assignable to type 'DeduplicatableContent'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(145,21): error TS18048: 'item' is possibly 'undefined'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(199,11): error TS2375: Type '{ url: string; content: string; title: string | undefined; }' is not assignable to type 'SimilarityContent' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'title' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(205,11): error TS2375: Type '{ url: string; content: string; title: string | undefined; }' is not assignable to type 'SimilarityContent' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'title' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(252,69): error TS18048: 'canonical' is possibly 'undefined'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(255,11): error TS2322: Type 'DeduplicatableContent | undefined' is not assignable to type 'DeduplicatableContent'.
  Type 'undefined' is not assignable to type 'DeduplicatableContent'.
lib/chatbot-widget/domain/services/ContentDeduplicationService.ts(258,47): error TS18048: 'canonical' is possibly 'undefined'.
lib/chatbot-widget/domain/services/context-injection/__tests__/ContextEffectivenessDomainService.test.ts(15,3): error TS6133: 'ContextEffectivenessAnalysis' is declared but its value is never read.
lib/chatbot-widget/domain/services/context-injection/__tests__/ContextTokenBudgetDomainService.test.ts(222,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/context-injection/__tests__/ContextTokenBudgetDomainService.test.ts(223,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/context-injection/ContextModuleGeneratorDomainService.ts(276,32): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/context-injection/ContextModuleGeneratorDomainService.ts(277,30): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/context-injection/ContextModulePriorityDomainService.ts(116,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/domain/services/context-injection/ContextModulePriorityDomainService.ts(179,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/domain/services/context-injection/ContextModulePriorityDomainService.ts(255,32): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/context-injection/ContextModulePriorityDomainService.ts(256,30): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/context/__tests__/EntityAccumulationService.test.ts(15,1): error TS6133: 'EntityMergeResult' is declared but its value is never read.
lib/chatbot-widget/domain/services/context/__tests__/EntityAccumulationService.test.ts(285,13): error TS2375: Type '{ budget: undefined; timeline: string; }' is not assignable to type 'ExtractedEntities' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'budget' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/conversation/__tests__/ConversationEnhancedAnalysisService.test.ts(18,1): error TS6133: 'IIntentClassificationService' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/__tests__/ConversationEnhancedAnalysisService.test.ts(19,1): error TS6192: All imports in import declaration are unused.
lib/chatbot-widget/domain/services/conversation/__tests__/ConversationEnhancedAnalysisService.test.ts(52,5): error TS2375: Type '{ topics: string[]; interests: string[]; sentiment: "positive"; engagementLevel: "high"; userIntent: string; urgency: "medium"; conversationStage: "discovery"; intentResult: undefined; relevantKnowledge: undefined; knowledgeRetrievalThreshold: number; }' is not assignable to type 'ContextAnalysis' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'intentResult' are incompatible.
    Type 'undefined' is not assignable to type 'IntentResult'.
lib/chatbot-widget/domain/services/conversation/__tests__/ConversationEnhancedAnalysisService.test.ts(557,13): error TS6133: 'result' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/__tests__/ConversationEnhancedAnalysisService.test.ts(584,13): error TS6133: 'result' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationContextOrchestrator.ts(164,5): error TS2375: Type '{ messages: { id: string; content: string; role: "user" | "system" | "assistant"; timestamp: Date; metadata: { sessionId: string; processingTime: number | undefined; isVisible: boolean; }; }[]; summary: string | undefined; tokenUsage: { ...; }; wasCompressed: boolean; }' is not assignable to type 'ContextWindowResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'summary' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/conversation/ConversationContextOrchestrator.ts(223,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(24,13): error TS6138: Property 'intentClassificationService' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(32,5): error TS6133: 'chatbotConfig' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(33,5): error TS6133: 'session' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(54,42): error TS2345: Argument of type 'ChatMessage | undefined' is not assignable to parameter of type 'ChatMessage'.
  Type 'undefined' is not assignable to type 'ChatMessage'.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(58,11): error TS6133: '_processingTime' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(66,5): error TS2375: Type '{ intentResult: undefined; relevantKnowledge: { id: string; title: string; content: string; relevanceScore: number; }[] | undefined; knowledgeRetrievalThreshold: number; topics: string[]; ... 5 more ...; conversationStage: "greeting" | "discovery" | "qualification" | "closing" | "support"; }' is not assignable to type 'ContextAnalysis' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'intentResult' are incompatible.
    Type 'undefined' is not assignable to type 'IntentResult'.
lib/chatbot-widget/domain/services/conversation/ConversationEnhancedAnalysisService.ts(86,13): error TS2375: Type '{ userQuery: string; intentResult: IntentResult | undefined; conversationHistory: string[]; maxResults: number; minRelevanceScore: number; sharedLogFile: string | undefined; }' is not assignable to type 'KnowledgeRetrievalContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'intentResult' are incompatible.
    Type 'IntentResult | undefined' is not assignable to type 'IntentResult'.
      Type 'undefined' is not assignable to type 'IntentResult'.
lib/chatbot-widget/domain/services/conversation/ConversationSessionUpdateService.ts(36,5): error TS6133: 'message' is declared but its value is never read.
lib/chatbot-widget/domain/services/conversation/ConversationSessionUpdateService.ts(108,11): error TS6133: '_botMessages' is declared but its value is never read.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(37,21): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(37,37): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(38,16): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(38,32): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(39,16): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(39,32): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(92,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(94,61): error TS2345: Argument of type 'number[] | undefined' is not assignable to parameter of type 'number[]'.
  Type 'undefined' is not assignable to type 'number[]'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(95,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(96,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(115,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(116,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(124,20): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(125,20): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/embedding/EmbeddingSimilarityDomainService.ts(194,59): error TS2345: Argument of type 'number[] | undefined' is not assignable to parameter of type 'number[]'.
  Type 'undefined' is not assignable to type 'number[]'.
lib/chatbot-widget/domain/services/knowledge-processing/KnowledgeBaseFormService.ts(79,11): error TS6133: '_sections' is declared but its value is never read.
lib/chatbot-widget/domain/services/knowledge-processing/KnowledgeBaseFormService.ts(106,26): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/domain/services/knowledge-processing/KnowledgeBaseFormService.ts(110,43): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/domain/services/knowledge-processing/KnowledgeBaseFormService.ts(118,44): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/domain/services/knowledge-processing/KnowledgeSearchExecutionService.ts(291,51): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/knowledge-processing/KnowledgeSearchExecutionService.ts(292,52): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/knowledge-processing/SearchMetricsLoggingService.ts(335,5): error TS6133: 'debugInfo' is declared but its value is never read.
lib/chatbot-widget/domain/services/knowledge-processing/SearchMetricsLoggingService.ts(340,11): error TS6133: 'limit' is declared but its value is never read.
lib/chatbot-widget/domain/services/knowledge-processing/SearchMetricsLoggingService.ts(347,45): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/knowledge-processing/SearchMetricsLoggingService.ts(348,46): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/KnowledgeManagementService.ts(33,50): error TS6133: 'context' is declared but its value is never read.
lib/chatbot-widget/domain/services/KnowledgeManagementService.ts(94,44): error TS6133: 'context' is declared but its value is never read.
lib/chatbot-widget/domain/services/lead-management/LeadBusinessService.ts(77,5): error TS2375: Type '{ followUpStatus: FollowUpStatus; lastContactedAt: Date | undefined; updatedAt: Date; }' is not assignable to type 'LeadUpdateResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'lastContactedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/domain/services/lead-management/LeadBusinessService.ts(91,5): error TS2375: Type '{ assignedTo: string | undefined; updatedAt: Date; }' is not assignable to type 'LeadUpdateResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/lead-management/LeadBusinessService.ts(103,5): error TS2375: Type '{ assignedTo: string | undefined; updatedAt: Date; }' is not assignable to type 'LeadUpdateResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/lead-management/LeadExtractionService.ts(71,29): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/lead-management/LeadExtractionService.ts(77,55): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/lead-management/LeadExtractionService.ts(81,5): error TS2412: Type 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/lead-management/LeadExtractionService.ts(84,5): error TS2412: Type 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/lead-management/RecommendationPriorityAnalyzer.ts(38,36): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/lead-management/RecommendationPriorityAnalyzer.ts(42,12): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/session-management/ChatSessionFactory.ts(79,7): error TS2375: Type '{ isQualified: boolean; currentStep: number; answeredQuestions: AnsweredQuestion[]; qualificationStatus: "completed" | "not_started" | "in_progress" | "skipped"; capturedAt: Date | undefined; }' is not assignable to type 'LeadQualificationState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'capturedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/domain/services/session-management/ChatSessionFactory.ts(105,5): error TS2375: Type '{ previousVisits: number; pageViews: PageView[]; conversationSummary: SessionContext["conversationSummary"]; topics: string[]; interests: string[]; engagementScore: number; journeyState: { ...; } | undefined; accumulatedEntities: { ...; }; }' is not assignable to type 'SessionContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'journeyState' are incompatible.
    Type '{ stage: string; confidence: number; metadata: ChatSessionMetadata; } | undefined' is not assignable to type '{ stage: string; confidence: number; metadata: ChatSessionMetadata; }'.
      Type 'undefined' is not assignable to type '{ stage: string; confidence: number; metadata: ChatSessionMetadata; }'.
lib/chatbot-widget/domain/services/session-management/SessionContextService.ts(55,7): error TS2375: Type '{ fullSummary: string; phaseSummaries: { phase: string; summary: string; keyOutcomes: string[]; entitiesExtracted: string[]; timeframe: { start: Date; end: Date; }; }[] | undefined; criticalMoments: { ...; }[] | undefined; }' is not assignable to type '{ fullSummary: string; phaseSummaries?: { phase: string; summary: string; keyOutcomes: string[]; entitiesExtracted: string[]; timeframe: { start: Date; end: Date; }; }[]; criticalMoments?: { ...; }[]; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'phaseSummaries' are incompatible.
    Type '{ phase: string; summary: string; keyOutcomes: string[]; entitiesExtracted: string[]; timeframe: { start: Date; end: Date; }; }[] | undefined' is not assignable to type '{ phase: string; summary: string; keyOutcomes: string[]; entitiesExtracted: string[]; timeframe: { start: Date; end: Date; }; }[]'.
      Type 'undefined' is not assignable to type '{ phase: string; summary: string; keyOutcomes: string[]; entitiesExtracted: string[]; timeframe: { start: Date; end: Date; }; }[]'.
lib/chatbot-widget/domain/services/session-management/SessionContextService.ts(169,5): error TS2375: Type '{ accumulatedEntities: { decisionMakers: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; budget?: { value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }; ... 19 more ...; entityMetadata?: { totalEntitiesExtracted: number; correctionsApplied: num...' is not assignable to type 'SessionContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'accumulatedEntities' are incompatible.
    Type '{ decisionMakers: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; budget?: { value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }; ... 19 more ...; entityMetadata?: { ...; }; } | undefined' is not assignable to type '{ decisionMakers: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; budget?: { value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }; ... 19 more ...; entityMetadata?: { ...; }; }'.
      Type 'undefined' is not assignable to type '{ decisionMakers: string[]; painPoints: string[]; integrationNeeds: string[]; evaluationCriteria: string[]; budget?: { value: string; confidence: number; lastUpdated: string; sourceMessageId: string; }; ... 19 more ...; entityMetadata?: { ...; }; }'.
lib/chatbot-widget/domain/services/session-management/SessionLeadQualificationService.ts(15,18): error TS6133: 'scoreAnswer' is declared but its value is never read.
lib/chatbot-widget/domain/services/session-management/SessionLeadQualificationService.ts(74,5): error TS6133: 'contextData' is declared but its value is never read.
lib/chatbot-widget/domain/services/session-management/SessionStateService.ts(83,5): error TS2375: Type '{ ipAddress: string | undefined; userAgent: string | undefined; referrerUrl: string | undefined; lastActivityAt: Date; id: string; chatbotConfigId: string; visitorId: string; ... 6 more ...; currentUrl?: string; }' is not assignable to type 'ChatSessionProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'ipAddress' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/UrlNormalizationService.ts(212,28): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/UrlNormalizationService.ts(214,5): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/utilities/BusinessContextScoreService.ts(35,5): error TS6133: 'message' is declared but its value is never read.
lib/chatbot-widget/domain/services/utilities/ChatMessageFactoryService.ts(34,59): error TS2379: Argument of type '{ qualificationStep: number; questionId: string; expectedAnswerType: "text" | "email" | "phone" | "select" | "multiselect"; topicsDiscussed: string[]; sentiment: "positive" | "neutral" | "negative"; ... 7 more ...; version: number; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/domain/services/utilities/ContextWindowService.ts(49,7): error TS2375: Type '{ messages: { id: string; content: string; role: "user" | "system" | "assistant"; timestamp: Date; metadata: { sessionId: string; processingTime: number | undefined; isVisible: boolean; }; }[]; summary: string | undefined; tokenUsage: { ...; }; wasCompressed: boolean; }' is not assignable to type 'ContextWindowResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'summary' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/utilities/ContextWindowService.ts(78,80): error TS2345: Argument of type 'ChatMessage | undefined' is not assignable to parameter of type 'ChatMessage'.
  Type 'undefined' is not assignable to type 'ChatMessage'.
lib/chatbot-widget/domain/services/utilities/ContextWindowService.ts(81,34): error TS2345: Argument of type 'ChatMessage | undefined' is not assignable to parameter of type 'ChatMessage'.
  Type 'undefined' is not assignable to type 'ChatMessage'.
lib/chatbot-widget/domain/services/utilities/ContextWindowService.ts(90,5): error TS2375: Type '{ messages: { id: string; content: string; role: "user" | "system" | "assistant"; timestamp: Date; metadata: { sessionId: string; processingTime: number | undefined; isVisible: boolean; }; }[]; summary: string | undefined; tokenUsage: { ...; }; wasCompressed: boolean; }' is not assignable to type 'ContextWindowResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'summary' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/services/utilities/ContextWindowService.ts(126,11): error TS6133: '_summaryPrompt' is declared but its value is never read.
lib/chatbot-widget/domain/services/utilities/IntentAlignmentScoreService.ts(37,5): error TS6133: 'message' is declared but its value is never read.
lib/chatbot-widget/domain/services/utilities/MessageCostCalculationService.ts(74,11): error TS6133: '_totalCostDollars' is declared but its value is never read.
lib/chatbot-widget/domain/services/utilities/MessageCostCalculationService.ts(108,7): error TS2322: Type 'ModelPricing | undefined' is not assignable to type 'ModelPricing'.
  Type 'undefined' is not assignable to type 'ModelPricing'.
lib/chatbot-widget/domain/services/VectorCacheOrchestrationService.ts(83,30): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorCacheStatisticsService.ts(263,7): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorKnowledgeRetrievalService.ts(242,69): error TS6133: 'limit' is declared but its value is never read.
lib/chatbot-widget/domain/services/VectorKnowledgeRetrievalService.ts(246,44): error TS6133: 'limit' is declared but its value is never read.
lib/chatbot-widget/domain/services/VectorMemoryManagementService.ts(102,13): error TS2488: Type '[string, CachedKnowledgeVector] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.
lib/chatbot-widget/domain/services/VectorSimilarityService.ts(123,21): error TS18048: 'aVal' is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorSimilarityService.ts(123,28): error TS18048: 'bVal' is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorSimilarityService.ts(124,16): error TS18048: 'aVal' is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorSimilarityService.ts(124,23): error TS18048: 'aVal' is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorSimilarityService.ts(125,16): error TS18048: 'bVal' is possibly 'undefined'.
lib/chatbot-widget/domain/services/VectorSimilarityService.ts(125,23): error TS18048: 'bVal' is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(93,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(94,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(95,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(96,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(110,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(286,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/AccumulatedEntities.test.ts(412,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/__tests__/DomainConstants.test.ts(9,3): error TS6133: 'DEFAULT_THRESHOLDS' is declared but its value is never read.
lib/chatbot-widget/domain/value-objects/__tests__/OpenAIModelConfig.test.ts(143,47): error TS6133: 'model' is declared but its value is never read.
lib/chatbot-widget/domain/value-objects/ai-configuration/JourneyStages.ts(70,5): error TS2322: Type '"interested" | "curious" | "converted" | "lost" | "visitor" | "evaluating" | "ready_to_buy" | "qualified_lead" | undefined' is not assignable to type '"interested" | "curious" | "converted" | "lost" | "visitor" | "evaluating" | "ready_to_buy" | "qualified_lead" | null'.
  Type 'undefined' is not assignable to type '"interested" | "curious" | "converted" | "lost" | "visitor" | "evaluating" | "ready_to_buy" | "qualified_lead" | null'.
lib/chatbot-widget/domain/value-objects/ai-configuration/JourneyStages.ts(80,5): error TS2322: Type '"interested" | "curious" | "converted" | "lost" | "visitor" | "evaluating" | "ready_to_buy" | "qualified_lead" | undefined' is not assignable to type '"interested" | "curious" | "converted" | "lost" | "visitor" | "evaluating" | "ready_to_buy" | "qualified_lead" | null'.
  Type 'undefined' is not assignable to type '"interested" | "curious" | "converted" | "lost" | "visitor" | "evaluating" | "ready_to_buy" | "qualified_lead" | null'.
lib/chatbot-widget/domain/value-objects/ai-configuration/KnowledgeBase.ts(160,5): error TS2322: Type '{ question?: string; answer?: string; category?: string; isActive?: boolean; id?: string; }' is not assignable to type 'FAQ'.
  Property 'id' is optional in type '{ question?: string; answer?: string; category?: string; isActive?: boolean; id?: string; }' but required in type 'FAQ'.
lib/chatbot-widget/domain/value-objects/ai-configuration/KnowledgeBase.ts(244,5): error TS2375: Type '{ errorMessage?: string; url?: string; status?: "pending" | "crawling" | "vectorizing" | "completed" | "error"; isActive?: boolean; name?: string; description?: string; crawlSettings?: WebsiteCrawlSettings; lastCrawled?: Date; pageCount?: number; id?: string; }' is not assignable to type 'WebsiteSource' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Property 'id' is optional in type '{ errorMessage?: string; url?: string; status?: "error" | "completed" | "pending" | "crawling" | "vectorizing"; isActive?: boolean; name?: string; description?: string; crawlSettings?: WebsiteCrawlSettings; lastCrawled?: Date; pageCount?: number; id?: string; }' but required in type 'WebsiteSource'.
lib/chatbot-widget/domain/value-objects/content/ContentValidationResult.ts(116,48): error TS2322: Type 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.
lib/chatbot-widget/domain/value-objects/content/ContentValidationResult.ts(121,40): error TS2322: Type 'string | undefined' is not assignable to type 'string | null'.
  Type 'undefined' is not assignable to type 'string | null'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(13,53): error TS6133: 'RemovalOperation' is declared but its value is never read.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(13,71): error TS6133: 'CorrectionOperation' is declared but its value is never read.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(49,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(75,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(76,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(77,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(90,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(114,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/__tests__/EntityCorrections.test.ts(330,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/context/EntityCorrections.ts(120,7): error TS2375: Type '{ timestamp: Date; sourceMessageId: string; confidence: number; correctionReason: string | undefined; }' is not assignable to type 'CorrectionMetadata' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'correctionReason' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/context/EntityCorrections.ts(152,7): error TS2375: Type '{ timestamp: Date; sourceMessageId: string; confidence: number; correctionReason: string | undefined; }' is not assignable to type 'CorrectionMetadata' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'correctionReason' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(23,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(24,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(31,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(56,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(57,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(95,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(96,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/__tests__/ConversationFlow.test.ts(97,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/conversation-management/ConversationFlowValueObjects.ts(78,5): error TS2322: Type 'PhaseTransition | undefined' is not assignable to type 'PhaseTransition'.
  Type 'undefined' is not assignable to type 'PhaseTransition'.
lib/chatbot-widget/domain/value-objects/lead-management/ContactInfo.ts(117,31): error TS2379: Argument of type '{ firstName: string | undefined; lastName: string | undefined; name: string | undefined; email?: string; phone?: string; company?: string; jobTitle?: string; website?: string; linkedin?: string; address?: Address; }' is not assignable to parameter of type 'ContactInfoProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'name' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/lead-management/ContactInfo.ts(126,31): error TS2379: Argument of type '{ company: string | undefined; jobTitle: string | undefined; email?: string; phone?: string; name?: string; firstName?: string; lastName?: string; website?: string; linkedin?: string; address?: Address; }' is not assignable to parameter of type 'ContactInfoProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'company' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/lead-management/ContactInfo.ts(134,31): error TS2379: Argument of type '{ website: string | undefined; linkedin: string | undefined; email?: string; phone?: string; name?: string; firstName?: string; lastName?: string; company?: string; jobTitle?: string; address?: Address; }' is not assignable to parameter of type 'ContactInfoProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'website' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/lead-management/LeadSource.ts(44,27): error TS2379: Argument of type '{ channel: "chatbot_widget"; pageUrl: string; pageTitle: string | undefined; campaign: string | undefined; referrer: string | undefined; utmSource: string | undefined; utmMedium: string | undefined; utmCampaign: string | undefined; }' is not assignable to parameter of type 'LeadSourceProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'campaign' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/lead-management/LeadSource.ts(102,30): error TS2379: Argument of type '{ utmSource: string | undefined; utmMedium: string | undefined; utmCampaign: string | undefined; channel: "chatbot_widget"; campaign?: string; referrer?: string; pageUrl: string; pageTitle?: string; }' is not assignable to parameter of type 'LeadSourceProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'utmSource' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/lead-management/LeadSource.ts(111,30): error TS2379: Argument of type '{ pageUrl: string; pageTitle: string | undefined; channel: "chatbot_widget"; campaign?: string; referrer?: string; utmSource?: string; utmMedium?: string; utmCampaign?: string; }' is not assignable to parameter of type 'LeadSourceProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'pageTitle' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/lead-management/QualificationData.ts(122,37): error TS2379: Argument of type '{ companySize: string | undefined; industry: string | undefined; currentSolution: string | undefined; budget?: string; timeline?: string; decisionMaker?: boolean; painPoints: string[]; interests: string[]; answeredQuestions: QualificationAnswer[]; engagementLevel: EngagementLevel; }' is not assignable to parameter of type 'QualificationDataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'companySize' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/message-processing/ContextAnalysis.ts(105,5): error TS2375: Type '{ topics: string[]; interests: string[]; sentiment: "positive" | "neutral" | "negative"; engagementLevel: "low" | "medium" | "high"; userIntent: string; urgency: "low" | "medium" | "high"; conversationStage: "qualification" | ... 3 more ... | "support"; intentResult: IntentResult | undefined; relevantKnowledge: { .....' is not assignable to type 'ContextAnalysis' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'intentResult' are incompatible.
    Type 'IntentResult | undefined' is not assignable to type 'IntentResult'.
      Type 'undefined' is not assignable to type 'IntentResult'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageAIMetadata.ts(48,34): error TS2379: Argument of type '{ aiModel: string; promptTokens: number; completionTokens: number; totalTokens: number; confidence: number | undefined; intentDetected: string | undefined; entitiesExtracted: never[]; }' is not assignable to parameter of type 'MessageAIMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'confidence' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageContextMetadata.ts(61,39): error TS2379: Argument of type '{ topicsDiscussed: never[]; qualificationStep: number; questionId: string | undefined; expectedAnswerType: "text" | "email" | "phone" | "select" | "multiselect" | undefined; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'questionId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageContextMetadata.ts(70,39): error TS2379: Argument of type '{ topicsDiscussed: never[]; errorType: string; errorCode: string | undefined; errorMessage: string | undefined; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'errorCode' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageContextMetadata.ts(171,39): error TS2379: Argument of type '{ qualificationStep: number; questionId: string | undefined; expectedAnswerType: "text" | "email" | "phone" | "select" | "multiselect" | undefined; updatedAt: Date; topicsDiscussed: string[]; ... 8 more ...; version?: number; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'questionId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageContextMetadata.ts(181,39): error TS2379: Argument of type '{ errorType: string; errorCode: string | undefined; errorMessage: string | undefined; updatedAt: Date; qualificationStep?: number; questionId?: string; expectedAnswerType?: "text" | "email" | "phone" | "select" | "multiselect"; ... 6 more ...; version?: number; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'errorCode' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageContextMetadata.ts(191,39): error TS2379: Argument of type '{ errorType: undefined; errorCode: undefined; errorMessage: undefined; updatedAt: Date; qualificationStep?: number; questionId?: string; expectedAnswerType?: "text" | "email" | "phone" | "select" | "multiselect"; ... 6 more ...; version?: number; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'errorType' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageCostTracking.ts(116,13): error TS2375: Type '{ promptTokensCents: number; completionTokensCents: number; totalCents: number; displayCents: number; modelRate: number | undefined; }' is not assignable to type 'CostBreakdown' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'modelRate' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageCostTracking.ts(124,38): error TS2379: Argument of type '{ costCents: number; costBreakdown: CostBreakdown; modelRate: number | undefined; }' is not assignable to parameter of type 'MessageCostTrackingProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'modelRate' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/domain/value-objects/message-processing/MessageProcessingMetrics.ts(80,11): error TS2375: Type '{ step: string; duration: number; success: boolean; error: string | undefined; }' is not assignable to type 'ProcessingStep' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'error' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/domain/value-objects/session-management/OperatingHours.ts(201,88): error TS18048: 'dateString' is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/session-management/OperatingHours.ts(235,90): error TS18048: 'dateString' is possibly 'undefined'.
lib/chatbot-widget/domain/value-objects/session-management/OperatingHours.ts(246,29): error TS2345: Argument of type 'number | undefined' is not assignable to parameter of type 'number'.
  Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/domain/value-objects/simulation/SimulationMetadata.ts(168,35): error TS2379: Argument of type '{ testerId: undefined; notes?: string; tags: string[]; relatedSimulations: string[]; }' is not assignable to parameter of type 'SimulationMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'testerId' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/composition/core/ConversationFlowCompositionService.ts(229,61): error TS2345: Argument of type 'ConversationFlowState | undefined' is not assignable to parameter of type 'ConversationFlowState'.
  Type 'undefined' is not assignable to type 'ConversationFlowState'.
lib/chatbot-widget/infrastructure/composition/WebsiteCrawlingCompositionRoot.ts(25,32): error TS6138: Property 'openAIProvider' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/ChatbotConfigSupabaseRepository.ts(218,72): error TS2379: Argument of type '{ error: PostgrestError; pattern: string; organizationId: string | undefined; }' is not assignable to parameter of type 'DatabaseErrorContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'organizationId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/ChatbotConfigSupabaseRepository.ts(226,69): error TS2379: Argument of type '{ error: unknown; pattern: string; organizationId: string | undefined; }' is not assignable to parameter of type 'DatabaseErrorContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'organizationId' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/ChatSessionSupabaseRepository.ts(32,20): error TS6133: 'tableName' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(219,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(220,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(222,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(248,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(249,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(250,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(251,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(430,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/__tests__/ChatbotConfigMapper.test.ts(453,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatbotConfigMapper.ts(65,42): error TS2379: Argument of type '{ id: string; organizationId: string; name: string; avatarUrl: string | undefined; description: string | undefined; personalitySettings: PersonalitySettings; ... 6 more ...; updatedAt: Date; }' is not assignable to parameter of type 'ChatbotConfigProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'avatarUrl' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatbotConfigMapper.ts(103,5): error TS2375: Type '{ id: string; organization_id: string; name: string; avatar_url: string | undefined; description: string | undefined; personality_settings: PersonalitySettingsProps; ... 4 more ...; is_active: boolean; }' is not assignable to type 'InsertChatbotConfigData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'avatar_url' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatbotConfigMapper.ts(120,5): error TS2375: Type '{ name: string; avatar_url: string | undefined; description: string | undefined; personality_settings: PersonalitySettingsProps; knowledge_base: KnowledgeBaseProps; ... 4 more ...; updated_at: string; }' is not assignable to type 'UpdateChatbotConfigData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'avatar_url' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatbotConfigMapper.ts(189,7): error TS2322: Type '{ id: string; url: string; name: string; description: string; isActive: boolean; crawlSettings: { maxPages: number; maxDepth: number; includePatterns: string[]; excludePatterns: string[]; respectRobotsTxt: boolean; crawlFrequency: "manual" | ... 2 more ... | "monthly"; includeImages: boolean; includePDFs: boolean; }...' is not assignable to type 'WebsiteSource[]'.
  Type '{ id: string; url: string; name: string; description: string; isActive: boolean; crawlSettings: { maxPages: number; maxDepth: number; includePatterns: string[]; excludePatterns: string[]; respectRobotsTxt: boolean; crawlFrequency: "manual" | ... 2 more ... | "monthly"; includeImages: boolean; includePDFs: boolean; }...' is not assignable to type 'WebsiteSource' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'lastCrawled' are incompatible.
      Type 'Date | undefined' is not assignable to type 'Date'.
        Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatMessageMapper.ts(59,59): error TS2379: Argument of type '{ topicsDiscussed: string[]; sentiment: "positive" | "neutral" | "negative"; urgency: "low" | "medium" | "high"; inputMethod: "text" | "voice" | "button"; errorType: string | undefined; errorCode: string | undefined; errorMessage: string | undefined; }' is not assignable to parameter of type 'MessageContextMetadataProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'errorType' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatMessageMapper.ts(81,11): error TS2375: Type '{ id: string; sessionId: string; messageType: MessageType; content: string; timestamp: Date; isVisible: boolean; processingTime: number | undefined; aiMetadata: MessageAIMetadata; contextMetadata: MessageContextMetadata; processingMetrics: MessageProcessingMetrics; costTracking: MessageCostTracking; }' is not assignable to type 'ChatMessageProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'processingTime' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatMessageMapper.ts(102,5): error TS2375: Type '{ id: string; session_id: string; message_type: MessageType; content: string; metadata: unknown; timestamp: string; is_visible: boolean; processing_time_ms: number | undefined; }' is not assignable to type 'InsertChatMessageData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'processing_time_ms' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatMessageMapper.ts(118,5): error TS2375: Type '{ content: string; metadata: unknown; is_visible: boolean; processing_time_ms: number | undefined; }' is not assignable to type 'UpdateChatMessageData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'processing_time_ms' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatSessionMapper.ts(64,11): error TS2375: Type '{ id: string; chatbotConfigId: string; visitorId: string; sessionToken: string; contextData: SessionContext; leadQualificationState: LeadQualificationState; ... 7 more ...; currentUrl: string | undefined; }' is not assignable to type 'ChatSessionProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'endedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatSessionMapper.ts(87,5): error TS2375: Type '{ id: string; chatbot_config_id: string; visitor_id: string; session_token: string; context_data: SessionContext; lead_qualification_state: LeadQualificationState; ... 7 more ...; current_url: string | undefined; }' is not assignable to type 'InsertChatSessionData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'ended_at' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatSessionMapper.ts(108,5): error TS2375: Type '{ context_data: SessionContext; lead_qualification_state: LeadQualificationState; status: SessionStatus; last_activity_at: string; ended_at: string | undefined; current_url: string | undefined; updated_at: string; }' is not assignable to type 'UpdateChatSessionData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'ended_at' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/ChatSessionMapper.ts(149,5): error TS2375: Type '{ currentStep: number; answeredQuestions: AnsweredQuestion[]; qualificationStatus: "completed" | "not_started" | "in_progress" | "skipped"; isQualified: boolean; capturedAt: Date | undefined; }' is not assignable to type 'LeadQualificationState' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'capturedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/LeadMapper.ts(164,33): error TS2379: Argument of type '{ id: string; organizationId: string; sessionId: string; chatbotConfigId: string; contactInfo: { name: string | undefined; firstName: string | undefined; lastName: string | undefined; ... 6 more ...; address: { ...; } | undefined; }; ... 10 more ...; updatedAt: Date; }' is not assignable to parameter of type 'Omit<LeadProps, "metadata" | "source" | "contactInfo" | "qualificationData"> & { contactInfo: ContactInfoProps; qualificationData: QualificationDataProps; source: LeadSourceProps; metadata: LeadMetadataProps; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Type '{ id: string; organizationId: string; sessionId: string; chatbotConfigId: string; contactInfo: { name: string | undefined; firstName: string | undefined; lastName: string | undefined; ... 6 more ...; address: { ...; } | undefined; }; ... 10 more ...; updatedAt: Date; }' is not assignable to type 'Omit<LeadProps, "metadata" | "source" | "contactInfo" | "qualificationData">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'lastContactedAt' are incompatible.
      Type 'Date | undefined' is not assignable to type 'Date'.
        Type 'undefined' is not assignable to type 'Date'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/LeadMapper.ts(169,5): error TS2375: Type '{ id: string; organization_id: string; session_id: string; chatbot_config_id: string; contact_info: ContactInfoJsonb; qualification_data: QualificationDataJsonb; ... 9 more ...; last_contacted_at: string | undefined; }' is not assignable to type 'InsertLeadData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assigned_to' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/LeadMapper.ts(191,5): error TS2375: Type '{ contact_info: ContactInfoJsonb; qualification_data: QualificationDataJsonb; lead_score: number; qualification_status: QualificationStatus; ... 6 more ...; updated_at: string; }' is not assignable to type 'UpdateLeadData' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assigned_to' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/mappers/LeadMapper.ts(302,7): error TS2412: Type '{ street: string | undefined; city: string | undefined; state: string | undefined; zipCode: string | undefined; country: string | undefined; } | undefined' is not assignable to type '{ street?: string; city?: string; state?: string; zipCode?: string; country?: string; } | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/AnalyticsCalculationService.ts(66,11): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/AnalyticsCalculationService.ts(66,44): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/AnalyticsCalculationService.ts(67,30): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/AnalyticsCalculationService.ts(67,60): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/AnalyticsCalculationService.ts(171,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/AnalyticsCalculationService.ts(171,77): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/CostAnalyticsService.ts(41,22): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/CostAnalyticsService.ts(41,44): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/CostAnalyticsService.ts(202,9): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(33,13): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(33,46): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(34,32): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(34,62): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(35,44): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(71,11): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(71,44): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(72,30): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(72,60): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(114,11): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(114,44): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(115,30): error TS18048: 'current' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(115,60): error TS18048: 'previous' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(153,9): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(165,7): error TS2322: Type 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(169,12): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/analytics/ResponseTimeAnalyticsService.ts(169,48): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/chat-message-queries/ChatMessageSearchService.ts(68,11): error TS6133: '_searchPattern' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/services/ContentAnalyticsService.ts(189,11): error TS6133: '_totalTypes' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/services/ContentAnalyticsService.ts(202,9): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadAnalyticsService.ts(143,11): error TS6133: 'calculateTopCompanies' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadAnalyticsService.ts(166,11): error TS6133: 'calculateLeadTrends' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadAnalyticsService.ts(170,38): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadAnalyticsService.ts(171,21): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadExportService.ts(32,13): error TS6138: Property 'supabase' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadExportService.ts(33,13): error TS6138: Property 'tableName' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadExportService.ts(93,13): error TS2375: Type '{ followUpStatus: FollowUpStatus; qualificationStatus: QualificationStatus | undefined; }' is not assignable to type 'LeadFilters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'qualificationStatus' are incompatible.
    Type 'QualificationStatus | undefined' is not assignable to type 'QualificationStatus'.
      Type 'undefined' is not assignable to type 'QualificationStatus'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadFilterConverter.ts(19,5): error TS2375: Type '{ assignedTo: string | undefined; dateFrom: Date | undefined; dateTo: Date | undefined; minScore: number | undefined; maxScore: number | undefined; tags: string[] | undefined; searchTerm: undefined; }' is not assignable to type 'LeadFilters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadFilterConverter.ts(35,5): error TS2375: Type '{ qualificationStatus: QualificationStatus; followUpStatus: FollowUpStatus; assignedTo: string | undefined; dateFrom: Date | undefined; dateTo: Date | undefined; minScore: number | undefined; maxScore: number | undefined; tags: string[] | undefined; searchTerm: string | undefined; }' is not assignable to type 'Partial<LeadFilters>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'assignedTo' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/services/LeadFilterConverter.ts(53,5): error TS2375: Type '{ qualificationStatus: QualificationStatus | undefined; followUpStatus: FollowUpStatus | undefined; assignedTo: string | undefined; ... 5 more ...; searchTerm: string | undefined; }' is not assignable to type 'LeadFilters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'qualificationStatus' are incompatible.
    Type 'QualificationStatus | undefined' is not assignable to type 'QualificationStatus'.
      Type 'undefined' is not assignable to type 'QualificationStatus'.
lib/chatbot-widget/infrastructure/persistence/supabase/SupabaseVectorKnowledgeRepository.ts(38,23): error TS6138: Property 'supabase' is declared but its value is never read.
lib/chatbot-widget/infrastructure/persistence/supabase/SupabaseVectorKnowledgeRepository.ts(63,13): error TS2322: Type '{ knowledgeItemId: string; title: string; content: string; category: string; sourceType: "faq" | "company_info" | "product_catalog" | "support_docs" | "website_crawled"; sourceUrl: string | undefined; embedding: number[]; contentHash: string; metadata: Record<...> | undefined; }[]' is not assignable to type 'VectorKnowledgeItem[]'.
  Type '{ knowledgeItemId: string; title: string; content: string; category: string; sourceType: "faq" | "company_info" | "product_catalog" | "support_docs" | "website_crawled"; sourceUrl: string | undefined; embedding: number[]; contentHash: string; metadata: Record<...> | undefined; }' is not assignable to type 'VectorKnowledgeItem' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'sourceUrl' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/persistence/supabase/SupabaseVectorKnowledgeRepository.ts(110,13): error TS2375: Type '{ threshold: number | undefined; limit: number | undefined; categoryFilter: string | undefined; sourceTypeFilter: string | undefined; }' is not assignable to type 'VectorSearchOptions' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'threshold' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/infrastructure/persistence/supabase/SupabaseVectorKnowledgeRepository.ts(150,13): error TS2375: Type '{ organizationId: string; chatbotConfigId: string; sourceType: string; sourceUrl: string | undefined; }' is not assignable to type 'VectorDeletionContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sourceUrl' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/crawling/CrawleeCrawlerProvider.ts(63,15): error TS6133: '_totalPages' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/crawling/CrawleeCrawlerProvider.ts(282,32): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(31,11): error TS18048: 'patterns.question_based' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(35,11): error TS18048: 'patterns.list_based' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(39,11): error TS18048: 'patterns.narrative' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(43,11): error TS18048: 'patterns.technical' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(47,11): error TS18048: 'patterns.conversational' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(73,29): error TS18048: 'flowTypes.linear' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(74,34): error TS18048: 'flowTypes.branching' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(75,34): error TS18048: 'flowTypes.circular' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(76,12): error TS18048: 'flowTypes.fragmented' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(102,46): error TS18048: 'patterns.how_to_guides' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(103,53): error TS18048: 'patterns.reference_docs' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(104,52): error TS18048: 'patterns.explanatory' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(105,56): error TS18048: 'patterns.troubleshooting' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(106,12): error TS18048: 'patterns.conceptual' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(111,9): error TS18048: 'patterns.how_to_guides' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(115,9): error TS18048: 'patterns.reference_docs' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentPatternService.ts(119,9): error TS18048: 'patterns.troubleshooting' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(86,32): error TS18048: 'structureTypes.well_structured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(87,38): error TS18048: 'structureTypes.partially_structured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(88,12): error TS18048: 'structureTypes.unstructured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(91,9): error TS18048: 'structureTypes.unstructured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(95,9): error TS18048: 'structureTypes.partially_structured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(153,31): error TS18048: 'hierarchyLevels.no_hierarchy' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(154,36): error TS18048: 'hierarchyLevels.single_level' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(155,35): error TS18048: 'hierarchyLevels.multi_level' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(156,12): error TS18048: 'hierarchyLevels.deep_hierarchy' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(159,9): error TS18048: 'hierarchyLevels.no_hierarchy' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(163,9): error TS18048: 'hierarchyLevels.deep_hierarchy' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(188,9): error TS18048: 'flowTypes.logical_flow' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(194,9): error TS18048: 'flowTypes.chronological_flow' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(200,9): error TS18048: 'flowTypes.categorical_flow' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeContentStructureService.ts(205,9): error TS18048: 'flowTypes.random_flow' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeInsightsService.ts(55,18): error TS6133: 'identifyContentGapsLegacy' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeInsightsService.ts(155,35): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeOptimizationRecommendationService.ts(64,9): error TS18048: 'patternAnalysis.patterns.images' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeOptimizationRecommendationService.ts(71,39): error TS18048: 'patternAnalysis.patterns.images' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(60,31): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(60,51): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(61,31): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(61,51): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(63,26): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(63,54): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(64,26): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(64,54): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(114,7): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(115,21): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagCoreAnalysisService.ts(115,59): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagTrendsService.ts(84,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagTrendsService.ts(84,41): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTagTrendsService.ts(256,7): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(67,26): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(90,11): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(90,39): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(135,44): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(167,65): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(168,67): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(246,34): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/analytics/KnowledgeTrendsService.ts(247,36): error TS2538: Type 'undefined' cannot be used as an index type.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeAdvancedQueryService.ts(242,45): error TS6133: 'items' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeAnalyticsCoordinatorService.ts(270,18): error TS6133: 'validateNonEmpty' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeConverterService.ts(46,9): error TS2379: Argument of type '{ category: string; source: string; companyName: string | undefined; }' is not assignable to parameter of type '{ category?: string; source?: string; companyName?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'companyName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeConverterService.ts(65,9): error TS2379: Argument of type '{ category: string; source: string; companyName: string | undefined; }' is not assignable to parameter of type '{ category?: string; source?: string; companyName?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'companyName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeConverterService.ts(140,9): error TS2379: Argument of type '{ category: "support" | "general" | "faq" | "product_info" | "pricing"; source: string; companyName: string | undefined; }' is not assignable to parameter of type '{ category?: string; source?: string; companyName?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'companyName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeItemService.ts(209,5): error TS2375: Type '{ organizationId: string; companyName: string | undefined; lastUpdated: Date; source: string; }' is not assignable to type 'KnowledgeProcessingContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'companyName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeItemService.ts(224,24): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeRelevanceService.ts(27,5): error TS2412: Type 'EmbeddingLogContext | undefined' is not assignable to type 'EmbeddingLogContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'EmbeddingLogContext'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeRelevanceService.ts(68,58): error TS18048: 'item' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeRelevanceService.ts(77,11): error TS2345: Argument of type 'KnowledgeItem | undefined' is not assignable to parameter of type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeRelevanceService.ts(84,43): error TS18048: 'item' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeRelevanceService.ts(102,7): error TS2322: Type '{ relevanceScore: number; id?: string; title?: string; content?: string; category?: "support" | "general" | "faq" | "product_info" | "pricing"; tags?: string[]; source?: string; lastUpdated?: Date; }[]' is not assignable to type 'KnowledgeItem[]'.
  Type '{ relevanceScore: number; id?: string; title?: string; content?: string; category?: "faq" | "product_info" | "pricing" | "support" | "general"; tags?: string[]; source?: string; lastUpdated?: Date; }' is not assignable to type 'KnowledgeItem'.
    Property 'id' is optional in type '{ relevanceScore: number; id?: string; title?: string; content?: string; category?: "support" | "general" | "faq" | "product_info" | "pricing"; tags?: string[]; source?: string; lastUpdated?: Date; }' but required in type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/KnowledgeRelevanceService.ts(143,35): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/processing/PDFChunkingService.ts(81,33): error TS18048: 'sentence' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/processing/PDFChunkingService.ts(94,11): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/ProductCatalogProcessorService.ts(87,16): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/ProductCatalogProcessorService.ts(101,5): error TS2375: Type '{ organizationId: string; companyName: string | undefined; lastUpdated: Date; source: string; }' is not assignable to type 'KnowledgeProcessingContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'companyName' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeAnalysisService.ts(90,28): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeAnalysisService.ts(94,23): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeAnalysisService.ts(96,23): error TS2379: Argument of type '{ title: string | undefined; content: string; }' is not assignable to parameter of type 'ProductSection' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'title' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeChunkingService.ts(30,28): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeChunkingService.ts(34,23): error TS18048: 'currentMatch' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeChunkingService.ts(37,25): error TS2379: Argument of type '{ title: string | undefined; content: string; }' is not assignable to parameter of type 'ProductSection' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'title' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentDistributionService.ts(99,11): error TS6133: '_uniqueTags' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentHashingService.ts(127,60): error TS2345: Argument of type 'KnowledgeItem | undefined' is not assignable to parameter of type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentHashingService.ts(131,13): error TS2322: Type 'KnowledgeItem | undefined' is not assignable to type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentHashingService.ts(132,13): error TS2322: Type 'KnowledgeItem | undefined' is not assignable to type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(103,61): error TS2345: Argument of type 'KnowledgeItem | undefined' is not assignable to parameter of type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(107,13): error TS2322: Type 'KnowledgeItem | undefined' is not assignable to type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(108,13): error TS2322: Type 'KnowledgeItem | undefined' is not assignable to type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(129,48): error TS2345: Argument of type 'KnowledgeItem | undefined' is not assignable to parameter of type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(133,13): error TS2322: Type 'KnowledgeItem | undefined' is not assignable to type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(134,13): error TS2322: Type 'KnowledgeItem | undefined' is not assignable to type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeContentSimilarityService.ts(291,61): error TS2345: Argument of type 'KnowledgeItem | undefined' is not assignable to parameter of type 'KnowledgeItem'.
  Type 'undefined' is not assignable to type 'KnowledgeItem'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeGroupingService.ts(51,25): error TS18048: 'groups.short' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeGroupingService.ts(52,30): error TS18048: 'groups.medium' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeGroupingService.ts(53,31): error TS18048: 'groups.long' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeGroupingService.ts(54,12): error TS18048: 'groups.very_long' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(173,32): error TS18048: 'structureTypes.well_structured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(174,38): error TS18048: 'structureTypes.partially_structured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(175,12): error TS18048: 'structureTypes.unstructured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(178,9): error TS18048: 'structureTypes.unstructured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(182,9): error TS18048: 'structureTypes.partially_structured' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(297,9): error TS18048: 'types.technical' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(301,9): error TS18048: 'types.procedural' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(305,9): error TS18048: 'types.descriptive' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeQualityService.ts(309,9): error TS18048: 'types.conversational' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeStatsService.ts(40,10): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/knowledge-services/utilities/KnowledgeStatsService.ts(40,42): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/logging/ChatbotFileLoggingService.ts(75,7): error TS2412: Type '{ name: string; message: string; stack: string | undefined; } | undefined' is not assignable to type '{ name: string; message: string; stack?: string; } | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/infrastructure/providers/logging/ChatbotFileLoggingService.ts(95,7): error TS2412: Type '{ name: string; message: string; stack: string | undefined; } | undefined' is not assignable to type '{ name: string; message: string; stack?: string; } | undefined' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
lib/chatbot-widget/infrastructure/providers/logging/ChatbotFileLoggingService.ts(178,13): error TS6133: '_path' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIIntentClassificationService.ts(31,13): error TS6138: Property 'config' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(104,11): error TS2375: Type '{ model: string; messages: OpenAI.Chat.Completions.ChatCompletionMessageParam[]; temperature: number | undefined; max_tokens: number | undefined; }' is not assignable to type 'ChatCompletionCreateParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Property 'stream' is missing in type '{ model: string; messages: OpenAI.Chat.Completions.ChatCompletionMessageParam[]; temperature: number | undefined; max_tokens: number | undefined; }' but required in type 'ChatCompletionCreateParamsStreaming'.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(144,20): error TS2339: Property 'usage' does not exist on type '(ChatCompletion & { _request_id?: string | null; }) | (Stream<ChatCompletionChunk> & { _request_id?: string | null; })'.
  Property 'usage' does not exist on type 'Stream<ChatCompletionChunk> & { _request_id?: string | null; }'.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(146,20): error TS2339: Property 'usage' does not exist on type '(ChatCompletion & { _request_id?: string | null; }) | (Stream<ChatCompletionChunk> & { _request_id?: string | null; })'.
  Property 'usage' does not exist on type 'Stream<ChatCompletionChunk> & { _request_id?: string | null; }'.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(147,20): error TS2339: Property 'usage' does not exist on type '(ChatCompletion & { _request_id?: string | null; }) | (Stream<ChatCompletionChunk> & { _request_id?: string | null; })'.
  Property 'usage' does not exist on type 'Stream<ChatCompletionChunk> & { _request_id?: string | null; }'.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(152,34): error TS2339: Property 'usage' does not exist on type '(ChatCompletion & { _request_id?: string | null; }) | (Stream<ChatCompletionChunk> & { _request_id?: string | null; })'.
  Property 'usage' does not exist on type 'Stream<ChatCompletionChunk> & { _request_id?: string | null; }'.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(153,38): error TS2339: Property 'usage' does not exist on type '(ChatCompletion & { _request_id?: string | null; }) | (Stream<ChatCompletionChunk> & { _request_id?: string | null; })'.
  Property 'usage' does not exist on type 'Stream<ChatCompletionChunk> & { _request_id?: string | null; }'.
lib/chatbot-widget/infrastructure/providers/openai/OpenAIProvider.ts(160,7): error TS2322: Type '(ChatCompletion & { _request_id?: string | null; }) | (Stream<ChatCompletionChunk> & { _request_id?: string | null; })' is not assignable to type 'ChatCompletion'.
  Type 'Stream<ChatCompletionChunk> & { _request_id?: string | null; }' is missing the following properties from type 'ChatCompletion': id, choices, created, model, object
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(59,14): error TS18048: 'leadDataProperties.name' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(60,14): error TS18048: 'leadDataProperties.company' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(61,14): error TS18048: 'leadDataProperties.role' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(62,14): error TS18048: 'leadDataProperties.budget' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(63,14): error TS18048: 'leadDataProperties.timeline' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(64,14): error TS18048: 'leadDataProperties.urgency' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(65,14): error TS18048: 'leadDataProperties.goals' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(66,14): error TS18048: 'leadDataProperties.pain_points' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(69,14): error TS18048: 'leadDataProperties.urgency' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(91,14): error TS18048: 'responseProperties.content' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(94,14): error TS18048: 'responseProperties.capture_contact' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(97,14): error TS18048: 'responseProperties.next_question' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(140,14): error TS18048: 'leadDataProperties.name' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(141,14): error TS18048: 'leadDataProperties.company' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(142,14): error TS18048: 'leadDataProperties.role' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(143,14): error TS18048: 'leadDataProperties.budget' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(144,14): error TS18048: 'leadDataProperties.timeline' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(145,14): error TS18048: 'leadDataProperties.urgency' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(146,14): error TS18048: 'leadDataProperties.goals' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/__tests__/OpenAIFunctionSchemaBuilder.test.ts(147,14): error TS18048: 'leadDataProperties.pain_points' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/ConversationAnalysisBuilder.ts(165,7): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/ConversationAnalysisBuilder.ts(165,62): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/IntentInferenceService.ts(254,11): error TS6133: '_latestIntent' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIChatbotProcessingService.ts(174,12): error TS18048: 'choice' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIChatbotProcessingService.ts(178,39): error TS18048: 'choice' is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIEmbeddingProviderService.ts(27,5): error TS2412: Type 'EmbeddingLogContext | undefined' is not assignable to type 'EmbeddingLogContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'EmbeddingLogContext'.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIEmbeddingProviderService.ts(56,20): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIEmbeddingProviderService.ts(101,15): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIEmbeddingProviderService.ts(199,49): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIIntentUtilityService.ts(28,5): error TS6133: 'message' is declared but its value is never read.
lib/chatbot-widget/infrastructure/providers/openai/services/OpenAIIntentUtilityService.ts(29,5): error TS6133: 'messageHistory' is declared but its value is never read.
lib/chatbot-widget/infrastructure/services/DebugInformationService.ts(7,5): error TS6133: 'callType' is declared but its value is never read.
lib/chatbot-widget/infrastructure/services/VectorStatisticsService.ts(29,23): error TS6138: Property 'supabase' is declared but its value is never read.
lib/chatbot-widget/infrastructure/services/VectorStorageAnalyticsService.ts(193,28): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/infrastructure/services/VectorStorageService.ts(150,11): error TS2322: Type '{ organization_id: string; chatbot_config_id: string; knowledge_item_id: string; title: string; content: string; category: string; source_type: "faq" | "company_info" | "product_catalog" | "support_docs" | "website_crawled"; ... 4 more ...; updated_at: string; }[]' is not assignable to type 'VectorStorageRecord[]'.
  Type '{ organization_id: string; chatbot_config_id: string; knowledge_item_id: string; title: string; content: string; category: string; source_type: "faq" | "company_info" | "product_catalog" | "support_docs" | "website_crawled"; ... 4 more ...; updated_at: string; }' is not assignable to type 'VectorStorageRecord' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'source_url' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/infrastructure/startup/AppStartupService.ts(60,13): error TS6133: '_totalTime' is declared but its value is never read.
lib/chatbot-widget/infrastructure/startup/AppStartupService.ts(66,13): error TS6133: '_totalTime' is declared but its value is never read.
lib/chatbot-widget/presentation/actions/contentValidationActions.ts(82,7): error TS2322: Type '{ field: string; message: string; suggestion: undefined; }[]' is not assignable to type '{ field: string; message: string; suggestion?: string; }[]'.
  Type '{ field: string; message: string; suggestion: undefined; }' is not assignable to type '{ field: string; message: string; suggestion?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'suggestion' are incompatible.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/actions/updateKnowledgeBaseActions.ts(40,7): error TS2379: Argument of type '{ threshold: number; limit: number; categoryFilter: string | undefined; sourceTypeFilter: string | undefined; }' is not assignable to parameter of type '{ threshold?: number; limit?: number; categoryFilter?: string; sourceTypeFilter?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'categoryFilter' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/actions/websiteSourcesActions.ts(32,3): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/presentation/actions/websiteSourcesActions.ts(160,3): error TS6133: 'organizationId' is declared but its value is never read.
lib/chatbot-widget/presentation/actions/websiteSourcesActions.ts(172,93): error TS2379: Argument of type '{ url: string; name: string; description: string | undefined; crawlSettings: WebsiteCrawlSettings; }' is not assignable to parameter of type 'Partial<Omit<WebsiteSource, "id">>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'description' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/components/admin/knowledge-base/CompanyInformationCard.tsx(132,12): error TS2375: Type '{ id: string; label: string; value: string; placeholder: string; disabled: boolean; rows: number; onChange: (value: string) => void | undefined; validation: FieldValidationResult | undefined; showValidation: boolean; tooltip: Element; }' is not assignable to type 'CompanyInfoFieldProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'validation' are incompatible.
    Type 'FieldValidationResult | undefined' is not assignable to type 'FieldValidationResult'.
      Type 'undefined' is not assignable to type 'FieldValidationResult'.
lib/chatbot-widget/presentation/components/admin/knowledge-base/CompanyInformationCard.tsx(145,12): error TS2375: Type '{ id: string; label: string; value: string; placeholder: string; disabled: boolean; rows: number; onChange: (value: string) => void | undefined; validation: FieldValidationResult | undefined; showValidation: boolean; tooltip: Element; }' is not assignable to type 'CompanyInfoFieldProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'validation' are incompatible.
    Type 'FieldValidationResult | undefined' is not assignable to type 'FieldValidationResult'.
      Type 'undefined' is not assignable to type 'FieldValidationResult'.
lib/chatbot-widget/presentation/components/admin/knowledge-base/CompanyInformationCard.tsx(158,12): error TS2375: Type '{ id: string; label: string; value: string; placeholder: string; disabled: boolean; rows: number; onChange: (value: string) => void | undefined; validation: FieldValidationResult | undefined; showValidation: boolean; tooltip: Element; }' is not assignable to type 'CompanyInfoFieldProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'validation' are incompatible.
    Type 'FieldValidationResult | undefined' is not assignable to type 'FieldValidationResult'.
      Type 'undefined' is not assignable to type 'FieldValidationResult'.
lib/chatbot-widget/presentation/components/admin/knowledge-base/CompanyInformationCard.tsx(171,12): error TS2375: Type '{ id: string; label: string; value: string; placeholder: string; disabled: boolean; rows: number; onChange: (value: string) => void | undefined; validation: FieldValidationResult | undefined; showValidation: boolean; tooltip: Element; }' is not assignable to type 'CompanyInfoFieldProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'validation' are incompatible.
    Type 'FieldValidationResult | undefined' is not assignable to type 'FieldValidationResult'.
      Type 'undefined' is not assignable to type 'FieldValidationResult'.
lib/chatbot-widget/presentation/components/admin/lead-management/AddQuestionForm.tsx(42,11): error TS2375: Type '{ question: string; type: string; isRequired: boolean; options: string[] | undefined; scoringWeight: number; }' is not assignable to type 'Omit<LeadQualificationQuestionDto, "id" | "order">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'options' are incompatible.
    Type 'string[] | undefined' is not assignable to type 'string[]'.
      Type 'undefined' is not assignable to type 'string[]'.
lib/chatbot-widget/presentation/components/admin/website-sources/CrawledPagesDisplay.tsx(73,9): error TS6133: '_skippedPages' is declared but its value is never read.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesForm.tsx(100,16): error TS2375: Type '{ id: string; checked: boolean | undefined; onCheckedChange: (checked: boolean) => void; }' is not assignable to type 'Omit<SwitchProps & RefAttributes<HTMLButtonElement>, "ref">' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'checked' are incompatible.
    Type 'boolean | undefined' is not assignable to type 'boolean'.
      Type 'undefined' is not assignable to type 'boolean'.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesList.tsx(48,26): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesList.tsx(125,24): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesList.tsx(126,24): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesList.tsx(127,24): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesList.tsx(139,17): error TS2322: Type 'CrawledPageInfo[] | undefined' is not assignable to type 'CrawledPageInfo[]'.
  Type 'undefined' is not assignable to type 'CrawledPageInfo[]'.
lib/chatbot-widget/presentation/components/admin/website-sources/WebsiteSourcesList.tsx(140,17): error TS2322: Type 'boolean | undefined' is not assignable to type 'boolean'.
  Type 'undefined' is not assignable to type 'boolean'.
lib/chatbot-widget/presentation/hooks/useChatSimulation.ts(156,60): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useChatSimulation.ts(156,112): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useChatSimulation.ts(157,92): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useChatSimulation.ts(157,144): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useContentValidation.ts(100,34): error TS2379: Argument of type '{ content: string; contentType: ContentType; maxLength: number | undefined; }' is not assignable to parameter of type 'ContentValidationRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'maxLength' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/presentation/hooks/useLeadQualificationSettings.ts(101,6): error TS2322: Type 'LeadQualificationQuestionDto | undefined' is not assignable to type 'LeadQualificationQuestionDto'.
  Type 'undefined' is not assignable to type 'LeadQualificationQuestionDto'.
lib/chatbot-widget/presentation/hooks/useLeadQualificationSettings.ts(101,24): error TS2322: Type 'LeadQualificationQuestionDto | undefined' is not assignable to type 'LeadQualificationQuestionDto'.
  Type 'undefined' is not assignable to type 'LeadQualificationQuestionDto'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(83,25): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(84,20): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(84,43): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(89,64): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(89,79): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(90,77): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(97,54): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(108,40): error TS2379: Argument of type '{ content: string; contentType: ContentType; maxLength: number | undefined; }' is not assignable to parameter of type 'ContentValidationRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'maxLength' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(110,26): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/useMultiContentValidation.ts(111,24): error TS18048: 'field' is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/validation/useValidationQueryHelpers.ts(74,36): error TS2379: Argument of type '{ content: string; contentType: ContentType; maxLength: number | undefined; }' is not assignable to parameter of type 'ContentValidationRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'maxLength' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/presentation/hooks/validation/useValidationQueryHelpers.ts(129,46): error TS2379: Argument of type '{ content: string; contentType: ContentType; maxLength: number | undefined; }' is not assignable to parameter of type 'ContentValidationRequest' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'maxLength' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/chatbot-widget/presentation/hooks/validation/validationStatusHelpers.ts(49,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/validation/validationStatusHelpers.ts(54,14): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/validation/validationStatusHelpers.ts(57,12): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/validation/validationStatusHelpers.ts(61,12): error TS2532: Object is possibly 'undefined'.
lib/chatbot-widget/presentation/hooks/website-sources/useCrawledPagesData.ts(106,9): error TS2322: Type 'CrawledPageInfo[] | undefined' is not assignable to type 'CrawledPageInfo[]'.
  Type 'undefined' is not assignable to type 'CrawledPageInfo[]'.
lib/chatbot-widget/presentation/hooks/website-sources/useCrawlProgress.ts(197,55): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/hooks/website-sources/useCrawlProgress.ts(197,75): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/hooks/website-sources/useCrawlProgress.ts(200,11): error TS2375: Type '{ status: "vectorizing"; progress: number; message: string | undefined; pagesFound: number; pagesProcessed: number; }' is not assignable to type 'Partial<CrawlProgress>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'message' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/hooks/website-sources/useCrawlProgress.ts(204,34): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/hooks/website-sources/useCrawlProgress.ts(205,38): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/utils/websiteSourcesHelpers.ts(67,3): error TS2375: Type '{ id: string; url: string; name: string; description: string | undefined; isActive: true; status: "pending"; crawlSettings: WebsiteCrawlSettings; }' is not assignable to type 'WebsiteSource' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'description' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/chatbot-widget/presentation/utils/websiteSourcesHelpers.ts(93,85): error TS2379: Argument of type '{ status: "error" | "completed" | "pending" | "crawling" | "vectorizing"; pageCount: number | undefined; errorMessage: string | undefined; lastCrawled: Date | undefined; }' is not assignable to parameter of type 'Partial<Omit<WebsiteSource, "id">>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'errorMessage' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/dam/application/use-cases/folders/ListFolderContentsUseCase.ts(73,13): error TS2322: Type '{ type: "asset"; id: string; name: string; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }[]' is not assignable to type 'GalleryItemDto[]'.
  Type '{ type: "asset"; id: string; name: string; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }' is not assignable to type 'GalleryItemDto'.
    Type '{ type: "asset"; id: string; name: string; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }' is not assignable to type '{ type: "asset"; id: string; name: string; createdAt: Date; mimeType: string; publicUrl?: string; size: number; userId: string; userFullName?: string | null; tags?: { id: string; name: string; color: string; }[]; folderName?: string | null; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
      Types of property 'publicUrl' are incompatible.
        Type 'string | undefined' is not assignable to type 'string'.
          Type 'undefined' is not assignable to type 'string'.
lib/dam/application/use-cases/search/GetDamDataUseCase.ts(47,43): error TS2379: Argument of type '{ organizationId: string; searchTerm: string | undefined; tagIds: string[] | undefined; filters: DamFilterParameters; sortParams: DamSortParameters; limitOptions: LimitOptions; currentFolderIdForContext: string | null; }' is not assignable to parameter of type '{ organizationId: string; searchTerm?: string; tagIds?: string[]; filters: DamFilterParameters; sortParams: DamSortParameters; limitOptions: LimitOptions; currentFolderIdForContext: string | null; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'searchTerm' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/dam/application/use-cases/search/GetDamDataUseCase.ts(58,41): error TS2379: Argument of type '{ folderId: string | null; organizationId: string; filters: DamFilterParameters; sortParams: DamSortParameters; tagIds: string[] | undefined; }' is not assignable to parameter of type '{ folderId: string | null; organizationId: string; filters: DamFilterParameters; sortParams: DamSortParameters; tagIds?: string[]; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'tagIds' are incompatible.
    Type 'string[] | undefined' is not assignable to type 'string[]'.
      Type 'undefined' is not assignable to type 'string[]'.
lib/dam/application/use-cases/search/SearchDamItemsUseCase.ts(73,11): error TS2375: Type '{ organizationId: string; searchTerm: string | undefined; folderId: string | null | undefined; tagIds: string[] | undefined; filters: DamFilterParameters | undefined; sortParams: DamSortParameters | undefined; limitOptions: LimitOptions | undefined; }' is not assignable to type 'AssetSearchCriteria' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'searchTerm' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/dam/application/use-cases/search/SearchDamItemsUseCase.ts(83,11): error TS2375: Type '{ organizationId: string; searchTerm: string | undefined; parentFolderId: string | null | undefined; filters: { type?: string | null; creationDateOption?: string | null; dateStart?: string | null; ... 4 more ...; sizeMax?: string | null; } | undefined; sortParams: DamSortParameters | undefined; limitOptions: LimitOp...' is not assignable to type 'FolderSearchCriteria' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'searchTerm' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/dam/application/use-cases/search/SearchDamItemsUseCase.ts(83,11): error TS6133: '_folderSearchCriteria' is declared but its value is never read.
lib/dam/application/use-cases/search/SearchDamItemsUseCase.ts(110,13): error TS2345: Argument of type '{ offset: number; limit: number | undefined; } | undefined' is not assignable to parameter of type '{ offset?: number; limit?: number; } | undefined'.
  Type '{ offset: number; limit: number | undefined; }' is not assignable to type '{ offset?: number; limit?: number; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'limit' are incompatible.
      Type 'number | undefined' is not assignable to type 'number'.
        Type 'undefined' is not assignable to type 'number'.
lib/dam/domain/entities/Asset.ts(76,5): error TS2412: Type 'Date | undefined' is not assignable to type 'Date' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/Asset.ts(77,5): error TS2412: Type 'string | null | undefined' is not assignable to type 'string | null' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/entities/Asset.ts(79,5): error TS2412: Type 'Tag[] | undefined' is not assignable to type 'Tag[]' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Tag[]'.
lib/dam/domain/entities/Asset.ts(80,5): error TS2412: Type 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string'.
lib/dam/domain/entities/Asset.ts(81,5): error TS2412: Type 'string | null | undefined' is not assignable to type 'string | null' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/entities/Asset.ts(82,5): error TS2412: Type 'string | null | undefined' is not assignable to type 'string | null' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/entities/Asset.ts(206,5): error TS2375: Type '{ id: string; userId: string; name: string; storagePath: string; mimeType: string; size: number; createdAt: Date; updatedAt: Date | undefined; folderId: string | null | undefined; ... 4 more ...; userFullName: string | ... 1 more ... | undefined; }' is not assignable to type 'AssetProps' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/AssetFactory.ts(47,22): error TS2379: Argument of type '{ id: string; userId: string; name: string; storagePath: string; mimeType: string; size: number; createdAt: Date; updatedAt: Date | undefined; folderId: string | null | undefined; ... 4 more ...; userFullName: string | undefined; }' is not assignable to parameter of type '{ id: string; userId: string; name: string; storagePath: string; mimeType: string; size: number; createdAt: Date; updatedAt?: Date; folderId?: string | null; organizationId: string; tags?: Tag[]; publicUrl?: string; folderName?: string | null; userFullName?: string | null; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/AssetFactory.ts(77,22): error TS2379: Argument of type '{ id: string; userId: string; name: string; storagePath: string; mimeType: string; size: number; createdAt: Date; folderId: string | null | undefined; organizationId: string; }' is not assignable to parameter of type '{ id: string; userId: string; name: string; storagePath: string; mimeType: string; size: number; createdAt: Date; updatedAt?: Date; folderId?: string | null; organizationId: string; tags?: Tag[]; publicUrl?: string; folderName?: string | null; userFullName?: string | null; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'folderId' are incompatible.
    Type 'string | null | undefined' is not assignable to type 'string | null'.
      Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/entities/Folder.ts(41,5): error TS2412: Type 'Date | undefined' is not assignable to type 'Date' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/Folder.ts(42,5): error TS2412: Type 'string | null | undefined' is not assignable to type 'string | null' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/entities/Folder.ts(44,5): error TS2412: Type 'boolean | undefined' is not assignable to type 'boolean' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'boolean'.
lib/dam/domain/entities/Folder.ts(163,23): error TS2379: Argument of type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt: Date | undefined; parentFolderId: string | null | undefined; organizationId: string; has_children: boolean | undefined; }' is not assignable to parameter of type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt?: Date; parentFolderId?: string | null; organizationId: string; has_children?: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/Folder.ts(209,5): error TS2375: Type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt: Date | undefined; parentFolderId: string | null | undefined; organizationId: string; has_children: boolean | undefined; }' is not assignable to type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt?: Date; parentFolderId?: string | null; organizationId: string; has_children?: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/folder/Folder.ts(41,5): error TS2412: Type 'Date | undefined' is not assignable to type 'Date' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/folder/Folder.ts(42,5): error TS2412: Type 'string | null | undefined' is not assignable to type 'string | null' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/entities/folder/Folder.ts(44,5): error TS2412: Type 'boolean | undefined' is not assignable to type 'boolean' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'boolean'.
lib/dam/domain/entities/folder/Folder.ts(163,23): error TS2379: Argument of type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt: Date | undefined; parentFolderId: string | null | undefined; organizationId: string; has_children: boolean | undefined; }' is not assignable to parameter of type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt?: Date; parentFolderId?: string | null; organizationId: string; has_children?: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/folder/Folder.ts(209,5): error TS2375: Type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt: Date | undefined; parentFolderId: string | null | undefined; organizationId: string; has_children: boolean | undefined; }' is not assignable to type '{ id: string; name: string; userId: string; createdAt: Date; updatedAt?: Date; parentFolderId?: string | null; organizationId: string; has_children?: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/folder/FolderHierarchy.ts(18,5): error TS6133: 'folderId' is declared but its value is never read.
lib/dam/domain/entities/folder/FolderHierarchy.ts(160,5): error TS6133: 'folderName' is declared but its value is never read.
lib/dam/domain/entities/SavedSearch.ts(49,5): error TS2412: Type 'string | undefined' is not assignable to type 'string' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'string'.
lib/dam/domain/entities/SavedSearch.ts(56,5): error TS2412: Type 'Date | undefined' is not assignable to type 'Date' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/SelectionFactory.ts(42,11): error TS6133: '_assetIdSet' is declared but its value is never read.
lib/dam/domain/entities/SelectionFactory.ts(153,11): error TS6133: '_assetIdSet' is declared but its value is never read.
lib/dam/domain/entities/Tag.ts(42,5): error TS2412: Type 'Date | undefined' is not assignable to type 'Date' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/Tag.ts(128,11): error TS6133: '_newTagColor' is declared but its value is never read.
lib/dam/domain/entities/Tag.ts(173,5): error TS2375: Type '{ id: string; name: string; color: TagColorName; userId: string; organizationId: string; createdAt: Date; updatedAt: Date | undefined; }' is not assignable to type '{ id: string; name: string; color: TagColorName; userId: string; organizationId: string; createdAt: Date; updatedAt?: Date; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/TagFactory.ts(28,20): error TS2379: Argument of type '{ id: string; name: string; userId: string; organizationId: string; createdAt: Date; updatedAt: Date | undefined; }' is not assignable to parameter of type '{ id: string; name: string; userId: string; organizationId: string; createdAt: Date; updatedAt?: Date; color?: TagColorName; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'updatedAt' are incompatible.
    Type 'Date | undefined' is not assignable to type 'Date'.
      Type 'undefined' is not assignable to type 'Date'.
lib/dam/domain/entities/TagUtilities.ts(59,7): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(66,9): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(67,11): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(67,11): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(68,11): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(68,11): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(69,11): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(69,11): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(75,22): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/entities/TagUtilities.ts(75,22): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/services/SearchCriteriaFactory.ts(18,7): error TS2375: Type '{ type: string | undefined; creationDateOption: string | undefined; dateStart: string | undefined; dateEnd: string | undefined; ownerId: string | undefined; sizeOption: string | undefined; sizeMin: string | undefined; sizeMax: string | undefined; }' is not assignable to type 'SearchFilters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'type' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/dam/domain/services/SearchCriteriaFactory.ts(28,7): error TS2375: Type '{ sortBy: string | undefined; sortOrder: "asc" | "desc"; }' is not assignable to type 'SearchSortParams' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sortBy' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/dam/domain/services/SearchMapper.ts(16,5): error TS2322: Type '({ id: string; name: string; type: "folder"; createdAt: Date; } | { id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | ... 1 more ... | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undef...' is not assignable to type 'GalleryItemDto[]'.
  Type '{ id: string; name: string; type: "folder"; createdAt: Date; } | { id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | ... 1 more ... | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefi...' is not assignable to type 'GalleryItemDto'.
    Type '{ id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }' is not assignable to type 'GalleryItemDto'.
      Type '{ id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }' is not assignable to type '{ type: "asset"; id: string; name: string; createdAt: Date; mimeType: string; publicUrl?: string; size: number; userId: string; userFullName?: string | null; tags?: { id: string; name: string; color: string; }[]; folderName?: string | null; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
        Types of property 'publicUrl' are incompatible.
          Type 'string | undefined' is not assignable to type 'string'.
            Type 'undefined' is not assignable to type 'string'.
lib/dam/domain/services/SearchMapper.ts(55,5): error TS2322: Type '{ id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }[]' is not assignable to type 'GalleryItemDto[]'.
  Type '{ id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }' is not assignable to type 'GalleryItemDto'.
    Type '{ id: string; name: string; type: "asset"; createdAt: Date; mimeType: string; publicUrl: string | undefined; size: number; userId: string; userFullName: string | null | undefined; tags: { ...; }[]; folderName: string | ... 1 more ... | undefined; }' is not assignable to type '{ type: "asset"; id: string; name: string; createdAt: Date; mimeType: string; publicUrl?: string; size: number; userId: string; userFullName?: string | null; tags?: { id: string; name: string; color: string; }[]; folderName?: string | null; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
      Types of property 'publicUrl' are incompatible.
        Type 'string | undefined' is not assignable to type 'string'.
          Type 'undefined' is not assignable to type 'string'.
lib/dam/domain/services/SearchService.ts(45,9): error TS2375: Type '{ type: string | undefined; creationDateOption: string | undefined; dateStart: string | undefined; dateEnd: string | undefined; ownerId: string | undefined; sizeOption: string | undefined; sizeMin: string | undefined; sizeMax: string | undefined; }' is not assignable to type 'DamFilterParameters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'type' are incompatible.
    Type 'string | undefined' is not assignable to type 'string | null'.
      Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/services/SearchService.ts(55,9): error TS2375: Type '{ sortBy: string | undefined; sortOrder: "asc" | "desc" | undefined; }' is not assignable to type 'DamSortParameters' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'sortBy' are incompatible.
    Type 'string | undefined' is not assignable to type 'string | null'.
      Type 'undefined' is not assignable to type 'string | null'.
lib/dam/domain/services/SelectionOperations.ts(65,29): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/services/SelectionOperations.ts(108,29): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/services/SelectionOperations.ts(143,29): error TS2532: Object is possibly 'undefined'.
lib/dam/domain/value-objects/TagColor.ts(62,25): error TS2345: Argument of type 'TagColorName | undefined' is not assignable to parameter of type 'TagColorName'.
  Type 'undefined' is not assignable to type 'TagColorName'.
lib/dam/domain/value-objects/TagColor.ts(89,25): error TS2345: Argument of type 'TagColorName | undefined' is not assignable to parameter of type 'TagColorName'.
  Type 'undefined' is not assignable to type 'TagColorName'.
lib/openai/application/services/OpenAIApplicationService.ts(121,22): error TS2345: Argument of type '{ message: string; service: string; errorMessage: string | undefined; code: string | undefined; status: number | undefined; }' is not assignable to parameter of type 'string | LogContext'.
  Type '{ message: string; service: string; errorMessage: string | undefined; code: string | undefined; status: number | undefined; }' is not assignable to type 'LogContext' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'code' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/organization/application/services/FeatureFlagService.ts(52,54): error TS2322: Type 'boolean | undefined' is not assignable to type 'boolean'.
  Type 'undefined' is not assignable to type 'boolean'.
lib/organization/domain/services/AuditTrailService.ts(311,64): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/organization/domain/services/AuditTrailService.ts(358,5): error TS2412: Type 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/organization/domain/services/OrganizationContextService.ts(200,17): error TS6133: 'verifyOrganizationAccess' is declared but its value is never read.
lib/organization/domain/services/OrganizationContextService.ts(226,5): error TS2412: Type 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/performance-profiler.ts(73,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
lib/performance-profiler.ts(155,7): error TS2532: Object is possibly 'undefined'.
lib/performance-profiler.ts(156,7): error TS2532: Object is possibly 'undefined'.
lib/performance-profiler.ts(161,7): error TS2532: Object is possibly 'undefined'.
lib/performance-profiler.ts(161,35): error TS2532: Object is possibly 'undefined'.
lib/performance-profiler.ts(161,61): error TS2532: Object is possibly 'undefined'.
lib/performance-profiler.ts(228,38): error TS2379: Argument of type '{ totalTime: number; metadata: Record<string, unknown> | undefined; }' is not assignable to parameter of type '{ totalTime: number; metadata?: Record<string, unknown>; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'metadata' are incompatible.
    Type 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>'.
      Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/performance-profiler.ts(265,19): error TS2379: Argument of type '{ name: string; exclusiveTime: number; percentage: number; metadata: Record<string, unknown> | undefined; }' is not assignable to parameter of type '{ name: string; exclusiveTime: number; percentage: number; metadata?: Record<string, unknown>; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'metadata' are incompatible.
    Type 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>'.
      Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/shared/access-control/server/checkFeatureAccess.ts(78,7): error TS2375: Type '{ hasAccess: false; user: User | undefined; organizationId: any; error: string; }' is not assignable to type 'FeatureAccessResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'user' are incompatible.
    Type 'User | undefined' is not assignable to type 'User'.
      Type 'undefined' is not assignable to type 'User'.
lib/shared/access-control/server/checkFeatureAccess.ts(91,11): error TS2375: Type '{ hasAccess: false; user: User | undefined; organizationId: any; error: string; }' is not assignable to type 'FeatureAccessResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'user' are incompatible.
    Type 'User | undefined' is not assignable to type 'User'.
      Type 'undefined' is not assignable to type 'User'.
lib/shared/access-control/server/checkFeatureAccess.ts(100,9): error TS2375: Type '{ hasAccess: false; user: User | undefined; organizationId: any; error: string; }' is not assignable to type 'FeatureAccessResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'user' are incompatible.
    Type 'User | undefined' is not assignable to type 'User'.
      Type 'undefined' is not assignable to type 'User'.
lib/shared/access-control/server/checkFeatureAccess.ts(109,5): error TS2375: Type '{ hasAccess: true; user: User | undefined; organizationId: any; }' is not assignable to type 'FeatureAccessResult' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'user' are incompatible.
    Type 'User | undefined' is not assignable to type 'User'.
      Type 'undefined' is not assignable to type 'User'.
lib/shared/infrastructure/ApiDeduplicationService.ts(76,34): error TS2379: Argument of type '{ actionId: string; timestamp: number; key: string; timeoutMs: number; domain: string | undefined; }' is not assignable to parameter of type 'DeduplicationEvent' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'domain' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/shared/infrastructure/ApiDeduplicationService.ts(99,35): error TS2379: Argument of type '{ promise: Promise<T>; timestamp: number; actionId: string; parameters: unknown[]; deduplicationCount: number; domain: string | undefined; }' is not assignable to parameter of type 'PendingRequest<unknown>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'domain' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/shared/infrastructure/ApiDeduplicationService.ts(132,7): error TS2322: Type 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.
lib/shared/infrastructure/ApiDeduplicationService.ts(135,5): error TS2322: Type 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.
lib/shared/infrastructure/ApiDeduplicationService.ts(234,5): error TS2322: Type '{ actionId: string; timestamp: number; deduplicationCount: number; key: string; age: number; domain: string | undefined; }[]' is not assignable to type '{ actionId: string; timestamp: number; deduplicationCount: number; key: string; age: number; domain?: string; }[]'.
  Type '{ actionId: string; timestamp: number; deduplicationCount: number; key: string; age: number; domain: string | undefined; }' is not assignable to type '{ actionId: string; timestamp: number; deduplicationCount: number; key: string; age: number; domain?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
    Types of property 'domain' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
lib/test/mocks/performance-handlers.ts(120,33): error TS2379: Argument of type '{ status: "processing"; imageUrl: undefined; }' is not assignable to parameter of type 'Partial<GenerationDto>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'imageUrl' are incompatible.
    Type 'undefined' is not assignable to type 'string'.
lib/test/mocks/performance-handlers.ts(164,7): error TS2379: Argument of type '{ id: string; status: GenerationStatusDto | undefined; imageUrl: string | undefined; }' is not assignable to parameter of type 'Partial<GenerationDto>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'imageUrl' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/tts/domain/common/TtsError.ts(28,5): error TS2412: Type 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/tts/domain/common/TtsError.ts(40,7): error TS2375: Type '{ message: string; code: string; category: TtsErrorCategory; timestamp: string; context: Record<string, unknown> | undefined; }' is not assignable to type '{ message: string; code: string; category: TtsErrorCategory; timestamp: string; context?: Record<string, unknown>; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'context' are incompatible.
    Type 'Record<string, unknown> | undefined' is not assignable to type 'Record<string, unknown>'.
      Type 'undefined' is not assignable to type 'Record<string, unknown>'.
lib/tts/domain/common/TtsError.ts(328,5): error TS2375: Type '{ success: true; data: T | undefined; count: number | undefined; }' is not assignable to type 'TtsSuccessResponse<T>' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'data' are incompatible.
    Type 'T | undefined' is not assignable to type 'T'.
      'T' could be instantiated with an arbitrary type which could be unrelated to 'T | undefined'.
lib/tts/domain/services/TtsValidationService.ts(166,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/tts/domain/services/TtsValidationService.ts(192,5): error TS6133: 'organizationId' is declared but its value is never read.
lib/tts/domain/value-objects/SpeechRequest.ts(89,5): error TS2375: Type '{ stability: number | undefined; similarity_boost: number | undefined; style: number | undefined; use_speaker_boost: boolean | undefined; }' is not assignable to type '{ stability?: number; similarity_boost?: number; style?: number; use_speaker_boost?: boolean; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'stability' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/tts/domain/value-objects/SpeechRequest.ts(100,5): error TS2375: Type '{ model: string | undefined; speed: number | undefined; }' is not assignable to type '{ model?: string; speed?: number; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'model' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/tts/domain/value-objects/SpeechRequest.ts(123,13): error TS2375: Type '{ model: string | undefined; speed: number; }' is not assignable to type 'ProviderSettings' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'model' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/tts/domain/value-objects/SpeechRequest.ts(131,13): error TS2375: Type '{ stability: number | undefined; similarity_boost: number | undefined; style: number | undefined; use_speaker_boost: boolean | undefined; }' is not assignable to type 'ProviderSettings' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'stability' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/tts/domain/value-objects/SpeechResult.ts(169,7): error TS2375: Type '{ url: string | undefined; duration: number | undefined; contentType: string | undefined; size: number | undefined; }' is not assignable to type 'AudioOutput' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'url' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/tts/domain/value-objects/SpeechResult.ts(178,7): error TS2375: Type '{ buffer: ArrayBuffer | undefined; contentType: string | undefined; size: number | undefined; }' is not assignable to type 'AudioOutput' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'buffer' are incompatible.
    Type 'ArrayBuffer | undefined' is not assignable to type 'ArrayBuffer'.
      Type 'undefined' is not assignable to type 'ArrayBuffer'.
lib/tts/domain/value-objects/SpeechResult.ts(197,5): error TS2375: Type '{ audioUrl: string; duration: number | undefined; status: "completed" | "failed" | "processing"; error: string | undefined; }' is not assignable to type '{ audioUrl: string; duration?: number; status: "completed" | "failed" | "processing"; error?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'duration' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/tts/domain/value-objects/SpeechResult.ts(213,5): error TS2375: Type '{ audioBuffer: ArrayBuffer; status: "completed" | "failed" | "processing"; error: string | undefined; }' is not assignable to type '{ audioBuffer: ArrayBuffer; status: "completed" | "failed" | "processing"; error?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'error' are incompatible.
    Type 'string | undefined' is not assignable to type 'string'.
      Type 'undefined' is not assignable to type 'string'.
lib/tts/domain/value-objects/SpeechResult.ts(230,7): error TS2379: Argument of type '{ url: string; duration: number | undefined; contentType: string; }' is not assignable to parameter of type 'AudioOutput' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.
  Types of property 'duration' are incompatible.
    Type 'number | undefined' is not assignable to type 'number'.
      Type 'undefined' is not assignable to type 'number'.
lib/tts/domain/value-objects/VoiceId.ts(23,5): error TS2412: Type 'TtsVoice | undefined' is not assignable to type 'TtsVoice' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the type of the target.
  Type 'undefined' is not assignable to type 'TtsVoice'.
 ELIFECYCLE  Command failed with exit code 2.
